import{d as k,s as Q,r as m,o,c as l,i as K,f as s,H as ye,a as e,q as Z,v as de,I as ce,B as U,e as L,x as D,F,k as J,p as O,g as q,J as ne,A as X,_ as N,b as j,m as G,K as se,L as ee,M as ae,N as Pe,w as ie,t as Y,O as fe,z as Ae,h as xe,y as Le}from"./index-780ccdc2.js";const oe=a=>(O("data-v-4dee32f9"),a=a(),q(),a),Ie={class:"LoginPanelContainer"},De={class:"panenTitle"},Se=oe(()=>e("h2",null,"華冠投顧",-1)),ke=oe(()=>e("h4",null,"ClickGo 網站管理平台",-1)),Be=["type"],Te=oe(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),Ne=[Te],He=oe(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),ze=[He],Ee=k({__name:"AdminLogin",emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new ne,c=new X;let n=m({userName:"",password:""}),d=m(!1),v=m(!1);const u=$=>{w("loadingSwitch",$)},t=async()=>{let $=n.value.userName=="sysAdmin"&&n.value.password=="1qazXSW@";if(i.hostPath+i.tokenPath,n.value.userName!=""&&n.value.password!="")if(u(!0),$){u(!1);const C='{"admID": 0,"admName": "最高管理者","admCorp": "HG01","admDep": "0004","admMail": "","admExt": "","admAccount": "","admPassword": "","admAuthority": "all","admEnabled": 1,"admCreateDate": "2023-12-06T16:40:28.387","admLastModify": "","admGroup": 0}';sessionStorage.setItem("adminInfo",C),w("redirectPage",null,"main")}else{const C=i.hostPath+i.adminLoginPath,_={account:n.value.userName,password:n.value.password},A=await c.callAPI(C,_);if(A.result)sessionStorage.setItem("adminInfo",JSON.stringify(A.message)),w("redirectPage",null,"main");else if(A.code==-1){let f="<a href='#'>忘記密碼?</a>";u(!1),g.centralError("登入失敗","請確認您的登入資訊!",f)}else J.fire({icon:"warning",title:"服務器錯誤，請稍候再試"});u(!1)}},P=$=>{$.keyCode==13&&n.value.userName!=""&&n.value.password!=""&&t()};return($,C)=>(o(),l(F,null,[K(ye,{status:s(v)},null,8,["status"]),e("div",{class:"AdminLoginContainer",onKeyup:P},[e("div",Ie,[e("div",De,[Se,ke,Z(e("input",{class:"acc",type:"text","onUpdate:modelValue":C[0]||(C[0]=_=>s(n).userName=_),placeholder:"帳號"},null,512),[[de,s(n).userName]]),Z(e("input",{class:"pwd",type:s(d)?"text":"password","onUpdate:modelValue":C[1]||(C[1]=_=>s(n).password=_),placeholder:"密碼"},null,8,Be),[[ce,s(n).password]]),s(d)?(o(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:C[2]||(C[2]=_=>U(d)?d.value=!1:d=!1),title:"顯示密碼"},Ne)):L("",!0),s(d)?L("",!0):(o(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:C[3]||(C[3]=_=>U(d)?d.value=!0:d=!0),title:"隱藏密碼"},ze)),e("div",{class:D({noGo:s(n).userName==""||s(n).password=="",goodToGo:s(n).userName!=""&&s(n).password!=""}),onClick:t}," GO ",2)])])],32)],64))}});const re=N(Ee,[["__scopeId","data-v-4dee32f9"]]),ue=a=>(O("data-v-5c674bd8"),a=a(),q(),a),Re={class:"menuContainer"},Ve=["onMouseover","onMouseout"],Fe=["onClick"],Ge={class:"menuItemText"},Oe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house-fill homeIcon",viewBox:"0 0 16 16"},qe=ue(()=>e("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"},null,-1)),je=ue(()=>e("path",{d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"},null,-1)),Ue=[qe,je],Ke=["innerHTML"],Je={class:"switchBtnCase"},Qe=ue(()=>e("path",{"fill-rule":"evenodd",d:"M7.022 1.566a1.13 1.13 0 0 1 1.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H1.144c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"},null,-1)),We=[Qe],Xe=["onMouseover","onMouseout"],Ze=["innerHTML","onClick"],Ye=k({__name:"AdminMenu",emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=JSON.parse(""+sessionStorage.getItem("adminInfo")).admID,g=new X,c=i.hostPath+i.adminMenuPath,n=y;let d=m();const v=[{Action:"Home",Text:"首頁",Hit:!0,Mov:!1,Open:!1}];let u=m(v[0]),t=m(null);(async()=>{const _={mid:w},A=await g.callAPI(c,_);d.value=A.message,d.value.forEach(f=>{f.Open=!1,f.Hit=!1,f.Mov=!1,f.SubMenu&&f.SubMenu.forEach(I=>{I.Hit=!1,I.Mov=!1})}),d.value=v.concat(A.message)})();const $=_=>{t.value!=null&&(t.value.Hit=!1),t.value=null,typeof _.SubMenu>"u"?u.value!=_&&(u.value!=null&&(u.value.Hit=!1),_.Hit=!0,u.value=_,n("redirectPage",null,_.Action)):_.Open=!_.Open},C=_=>{u.value!=null&&(u.value.Hit=!1),u.value=null,t.value!=_&&(t.value!=null&&(t.value.Hit=!1),_.Hit=!0,t.value=_,n("redirectPage",null,_.Action))};return(_,A)=>(o(),l("div",Re,[(o(!0),l(F,null,j(s(d),(f,I)=>(o(),l("div",{class:D(["mainMenuItem",{mainMenuItemMov:f.Mov&&!f.Hit,mainMenuItemHit:f.Hit}]),key:I,onMouseover:h=>f.Mov=!0,onMouseout:h=>f.Mov=!1},[e("div",{class:"mainMenuItemContainer",onClick:h=>$(f)},[e("div",Ge,[I==0?(o(),l("svg",Oe,Ue)):L("",!0),e("span",{innerHTML:f.Text},null,8,Ke)]),e("div",Je,[f.SubMenu?(o(),l("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:D(["bi bi-triangle-fill",{btnSwitchOff:!f.Open}]),viewBox:"0 0 16 16"},We,2)):L("",!0)])],8,Fe),e("div",{class:D(["subMenu",[{openSub:f.Open},"subMenu_"+I]])},[(o(!0),l(F,null,j(f.SubMenu,(h,r)=>(o(),l("div",{class:"subMenuItem",key:r,onMouseover:p=>h.Mov=!0,onMouseout:p=>h.Mov=!1},[e("div",{class:D(["subMenuItemText",{subMenuItemMov:h.Mov&&!h.Hit,subMenuItemHit:h.Hit}]),innerHTML:h.Text,onClick:p=>C(h)},null,10,Ze)],40,Xe))),128))],2)],42,Ve))),128))]))}});const et=N(Ye,[["__scopeId","data-v-5c674bd8"]]),tt={class:"adminNavContainer"},st={class:"adminNavBody"},at=e("div",{class:"adminNavMain"},null,-1),nt={class:"adminNavBtn"},it=e("path",{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},null,-1),ot=[it],lt={class:"adminLeftMenu"},ct=k({__name:"AdminNav",emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=y,w=()=>{J.fire({icon:"question",title:"您確定要登出嗎",text:"你要確定都沒有工作要處理了嘿!!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(n=>{n.isConfirmed&&(sessionStorage.clear(),i("redirectPage",null,"login"))})},g=(n,d)=>{i("redirectPage",n,d)},c=n=>{i("loadingSwitch",n)};return(n,d)=>(o(),l("div",tt,[e("div",st,[at,e("div",nt,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",onClick:d[0]||(d[0]=v=>w())},ot))])]),e("div",lt,[K(et,{onRedirectPage:g,onLoadingSwitch:c})])]))}});const dt=a=>(O("data-v-9b084061"),a=a(),q(),a),ut={class:"mainContainer"},rt=dt(()=>e("div",{class:"mainHeader"},[e("div",{class:"mainOptions"},"Home")],-1)),_t=[rt],vt=k({__name:"AdminHome",setup(a){return(y,i)=>(o(),l("div",ut,_t))}});const _e=N(vt,[["__scopeId","data-v-9b084061"]]),mt=a=>(O("data-v-7b7bbd61"),a=a(),q(),a),ht={class:"mainContainer"},pt=mt(()=>e("div",{class:"mainHeader"},[e("div",{class:"mainTitle"},[e("h3",null,[G("會員管理 - "),e("span",{class:"titleMid"},"會員列表")])]),e("div",{class:"mainOptions"})],-1)),gt=[pt],wt=k({__name:"AdminMemberList",setup(a){return(y,i)=>(o(),l("div",ht,gt))}});const ft=N(wt,[["__scopeId","data-v-7b7bbd61"]]),$t=a=>(O("data-v-8e3354db"),a=a(),q(),a),Ct={class:"mainContainer"},Mt=$t(()=>e("div",{class:"mainHeader"},[e("div",{class:"mainTitle"},[e("h3",null,"會員管理 - "),e("h4",null,"會員編輯")]),e("div",{class:"mainOptions"})],-1)),bt=[Mt],yt=k({__name:"AdminMemberEdit",setup(a){return(y,i)=>(o(),l("div",Ct,bt))}});const Pt=N(yt,[["__scopeId","data-v-8e3354db"]]),At={class:"mainContainer"},xt=k({__name:"AdminMember",setup(a){let y=se(),i=m(0);const w=(c,n)=>{},g=()=>{};return y.value=y.value!=null?y.value:i.value==0?ft:Pt,(c,n)=>(o(),l("div",At,[(o(),ee(ae(s(y)),{reset:g,onRedirectPage:w},null,32))]))}});const Lt=N(xt,[["__scopeId","data-v-b9437090"]]),$e=Pe({id:"dbEntities",state:()=>({adminManagerEntity:{admID:Number,admName:String,admCorp:String,admDep:String,admMail:String,admExt:String,admAccount:String,admPassword:String,admGroup:Number,admAuthority:String,admEnabled:Number,admCreateDate:String,admLastModify:String}})}),B=a=>(O("data-v-ccc9ac18"),a=a(),q(),a),It={class:"mainContainer"},Dt={class:"mainHeader"},St=B(()=>e("div",{class:"mainTitle"},[e("h3",null,[G("管理員設定 - "),e("span",{class:"titleMid"},"管理員列表")])],-1)),kt={class:"mainOptions"},Bt=B(()=>e("div",null,null,-1)),Tt=B(()=>e("title",null,"搜尋",-1)),Nt=B(()=>e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)),Ht=[Tt,Nt],zt=B(()=>e("div",{class:"searchTitle"},"搜尋",-1)),Et=B(()=>e("div",{class:"searchBody"},null,-1)),Rt=[zt,Et],Vt={key:0,class:"zeroRow"},Ft=B(()=>e("div",null,[e("h4",null,"未尋獲任何資料...")],-1)),Gt={class:"showAllBtn"},Ot={key:1,class:"listContainer"},qt={class:"resultRows"},jt={class:"showRemoved"},Ut={class:"resultCount"},Kt={class:"resultNumber"},Jt=fe('<div class="listTitle" data-v-ccc9ac18><div class="listTitleField" data-v-ccc9ac18></div><div class="listTitleField" data-v-ccc9ac18>員編</div><div class="listTitleField" data-v-ccc9ac18>姓名</div><div class="listTitleField" data-v-ccc9ac18>部門</div><div class="listTitleField" data-v-ccc9ac18>權限</div><div class="listTitleField" data-v-ccc9ac18>Email</div><div class="listTitleField" data-v-ccc9ac18>操作</div></div>',1),Qt={class:"listBody"},Wt={class:"listLine"},Xt=["innerHTML"],Zt=["innerHTML"],Yt=["innerHTML"],es=["innerHTML"],ts=["innerHTML"],ss={class:"listField managerEmail"},as=["href","innerHTML"],ns={key:0,class:"listField managerAction"},is={class:"listAction"},os=["onClick"],ls=B(()=>e("title",null,"編輯",-1)),cs=B(()=>e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},null,-1)),ds=[ls,cs],us={class:"listAction"},rs=["onClick"],_s=B(()=>e("title",null,"刪除",-1)),vs=B(()=>e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1)),ms=[_s,vs],hs={key:1,class:"listField managerAction2"},ps={class:"listAction"},gs=["onClick"],ws=B(()=>e("title",null,"復原",-1)),fs=B(()=>e("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"},null,-1)),$s=[ws,fs],Cs={class:"listPagination"},Ms={class:"PaginationContainer"},bs=B(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-rewind-fill"})],-1)),ys=B(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill lastPage"})],-1)),Ps={class:"pageList"},As=B(()=>e("div",null,null,-1)),xs=B(()=>e("div",null,null,-1)),Ls=B(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill"})],-1)),Is=B(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-fast-forward-fill"})],-1)),Ds=k({__name:"AdminManagerList",props:{lastPage:Number},emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new ne,c=new X;$e();const n=i.hostPath+i.adminManagerTotalPath,d=i.hostPath+i.adminManagerListPath,v=m(0),u=m();let t=m(0);m(!1);let P=m(!1),$=m(1),C=m(30),_=m([]),A=m(0),f=m(0),I=m(!1);const h=a;ie(()=>h.lastPage,(x,M)=>{$.value=M??1});const r=async(x,M)=>{T(!0);const b=await c.callAPI(n,{});v.value=b.message;const V=await c.callAPI(d,{page:x,rows:M,showAll:I.value});u.value=V.message,t.value=Math.ceil(v.value/C.value),A.value=t.value<5?1:Math.floor($.value/5)*5,f.value=A.value+5>=t.value?t.value:A.value+5,_.value.length=0;for(let W=A.value;W<f.value+1;W++)_.value.push(W);T(!1)},p=x=>{w("redirectPage",{managerID:x,lastPage:$.value},"modify")},z=(x,M)=>{J.fire({icon:"question",title:`警告!
管理員 "`+M+`"
的權限將會被刪除`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(b=>{if(b.isConfirmed){const V=i.hostPath+i.adminManagerRemovePath;(async()=>{T(!0),await c.callAPI(V,{aID:x}),T(!1),r($.value,C.value),g.miniSuccess("管理員 "+M+" 已刪除")})()}})},H=(x,M)=>{J.fire({icon:"question",title:'管理員 "'+M+`"
的權限將會被復原`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(b=>{if(b.isConfirmed){const V=i.hostPath+i.adminManagerRevivePath;(async()=>{T(!0),await c.callAPI(V,{aID:x}),T(!1),r($.value,C.value),g.miniSuccess("管理員 "+M+" 已復原")})()}})},R=()=>{I.value=!I.value,r($.value,C.value)},T=x=>{w("loadingSwitch",x)};return r($.value,C.value),(x,M)=>(o(),l("div",It,[e("div",Dt,[St,e("div",kt,[Bt,e("div",null,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512",class:"searchBtn",onClick:M[0]||(M[0]=b=>U(P)?P.value=!s(P):P=!s(P))},Ht))]),e("div",null,[e("div",{class:"btn btn-sm btn-success",onClick:M[1]||(M[1]=b=>p(0))},"新增管理員")])])]),e("div",{class:D(["searchContainer",{showSearch:s(P)}])},Rt,2),v.value==0?(o(),l("div",Vt,[Ft,e("div",Gt,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(I),"btn-primary":s(I)}]),onClick:R},"顯示已刪除資料",2)])])):L("",!0),v.value>0?(o(),l("div",Ot,[e("div",qt,[e("div",jt,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(I),"btn-primary":s(I)}]),onClick:R},"顯示已刪除資料",2)]),e("div",Ut,[G("資料總筆數："),e("span",Kt,Y(v.value),1),G(" 筆")])]),Jt,e("div",Qt,[(o(!0),l(F,null,j(u.value,(b,V)=>(o(),l("div",{class:D(["listLineContainer",{removedRecord:b.enabled==0}]),key:V},[e("div",Wt,[e("div",{class:"listField lineIndex",innerHTML:V+1},null,8,Xt),e("div",{class:"listField managerNo",innerHTML:b.No},null,8,Zt),e("div",{class:"listField managerName",innerHTML:b.name},null,8,Yt),e("div",{class:"listField managerDep",innerHTML:b.Dep},null,8,es),e("div",{class:"listField managerAuth",innerHTML:b.AuthGroupName},null,8,ts),e("div",ss,[e("a",{href:"mailTo:"+b.Email,innerHTML:b.Email},null,8,as)]),b.enabled>0?(o(),l("div",ns,[e("div",is,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",class:"actionEdit",onClick:W=>p(b.ID)},ds,8,os))]),e("div",us,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",class:"actionDel",onClick:W=>z(b.ID,b.name)},ms,8,rs))])])):L("",!0),b.enabled==0?(o(),l("div",hs,[e("div",ps,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",class:"bi bi-reply-fill dataRestore",viewBox:"0 0 16 16",onClick:W=>H(b.ID,b.name)},$s,8,gs))])])):L("",!0)])],2))),128))]),e("div",Cs,[e("div",Ms,[bs,ys,e("div",Ps,[As,(o(!0),l(F,null,j(s(_),b=>(o(),l("div",{key:b,class:D(["pageItem",{pageItemPicked:b==s($),pageItemMov:b!=s($)}])},Y(b),3))),128)),xs]),Ls,Is])])])):L("",!0)]))}});const ve=N(Ds,[["__scopeId","data-v-ccc9ac18"]]),Ss={class:"objectContainer"},ks=["onKeypress"],Bs=["onMouseover"],Ts=["innerHTML"],Ns=["innerHTML"],Hs=k({__name:"AdminEmpPicker",emits:["changeEmp","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new X,c=i.hostPath+i.adminGetEmpList;let n=m(),d=m({empNo:"",empName:"",empDep:"",empExt:"",empPassword:"",empConfirmPassword:""}),v=m([{}]),u=m(!1),t=m(-1);const P=r=>{w("loadingSwitch",r)};(async()=>{P(!0);const r=await g.callAPI(c,{});n.value=r.message,P(!1)})();const C=r=>{t.value=-1;const p=r.keyCode>36&&r.keyCode<41,z=r.keyCode>64&&r.keyCode<91||r.keyCode>93&&r.keyCode<123,H=r.keyCode>47&&r.keyCode<58;if(!((z||H||p||r.keyCode==8)&&d.value.empNo.length<8))return!1;d.value.empNo=d.value.empNo+String.fromCharCode(r.keyCode),u.value=d.value.empNo.length>0},_=()=>{let r=0;v.value=[],d.value.empNo!=""&&n.value.forEach(p=>{p.empNo.toUpperCase().indexOf(d.value.empNo.toUpperCase())>-1&&(r<10&&v.value.push(p),r++)})},A=r=>{r.keyCode==8&&(t.value=-1),(r.keyCode==38||r.keyCode==40||r.keyCode==13)&&(r.preventDefault(),r.keyCode==38?t.value>0&&t.value--:r.keyCode==13?I():t.value<v.value.length-1&&t.value++)},f=()=>{u.value=!1;const r=m({empNo:"",empName:"",empBranch:"",empDep:"",empDepName:"",empExt:"",empPassword:"",empConfirmPassword:""});d.value.empNo==""&&w("changeEmp",r.value)},I=()=>{d.value.empNo=v.value[t.value].empNo;const r=v.value[t.value];r.empPassword="000000",r.empConfirmPassword=r.empPassword,w("changeEmp",r)},h=()=>{_(),u.value=v.value.length>0};return(r,p)=>(o(),l("div",Ss,[Z(e("input",{type:"text",maxlength:8,onKeypress:Ae(C,["prevent"]),onKeyup:_,onKeydown:A,onMousedown:h,onBlur:f,"onUpdate:modelValue":p[0]||(p[0]=z=>s(d).empNo=z)},null,40,ks),[[de,s(d).empNo]]),e("div",{class:D(["filterContainer",{showFilter:s(v).length>0&&s(u)}])},[(o(!0),l(F,null,j(s(v),(z,H)=>(o(),l("div",{class:D(["filterItem",{focusItem:s(t)==H}]),key:H,onMouseover:R=>U(t)?t.value=H:t=H,onMousedown:p[1]||(p[1]=R=>I())},[e("span",{innerHTML:z.empNo},null,8,Ts),G(" "),e("span",{innerHTML:z.empName},null,8,Ns)],42,Bs))),128))],2)]))}});const zs=N(Hs,[["__scopeId","data-v-9a58fb7b"]]),te=a=>(O("data-v-76a4fd01"),a=a(),q(),a),Es={class:"actionContainer"},Rs={class:"viewAuth"},Vs=te(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),Fs=[Vs],Gs=te(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),Os=[Gs],qs=["innerHTML"],js={key:0,class:"editAuth"},Us=te(()=>e("div",{class:"authBtnIcon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512"},[e("title",null,"編輯"),e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"})])],-1)),Ks=te(()=>e("div",{class:"authBtnText"},"編輯",-1)),Js=[Us,Ks],Qs={key:1,class:"delAuth"},Ws=te(()=>e("div",{class:"authBtnIcon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512"},[e("title",null,"刪除"),e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})])],-1)),Xs=te(()=>e("div",{class:"authBtnText"},"刪除",-1)),Zs=[Ws,Xs],Ys=k({__name:"AdminAuthItem",props:{authText:String,authID:Number,mAuth:String,withSub:Boolean},emits:["authChange"],setup(a,{emit:y}){Q();const i=y,w=new ne,g=a;let c=m(""+g.mAuth);ie(()=>g.mAuth,(d,v)=>{c.value=""+d});const n=d=>{const v=g.authID+d;if((","+c.value+",").indexOf(","+v+",")<0){if(d!="V"&&(","+c.value+",").indexOf(","+g.authID+"V,")==-1){const t=d=="E"?"編輯":"刪除";return w.miniMessage(-1,"您必須先選取檢視權限才可以賦予"+t+"權限"),!1}c.value.length>0&&(c.value+=","),c.value+=v}else{if(c.value=(","+c.value+",").replace(","+v+",",",").substring(1,c.value.length-2),d=="V"){const t=","+g.authID+"D,",P=","+g.authID+"E,";c.value=(","+c.value+",").replace(t,",").replace(P,",").substring(1,c.value.length-2)}c.value==","&&(c.value="")}i("authChange",c.value)};return(d,v)=>(o(),l("div",Es,[e("div",{class:D(["authListLine",{hasViewRight:(","+s(c)+",").indexOf(","+a.authID+"V,")>=0}])},[e("div",Rs,[(","+s(c)+",").indexOf(","+a.authID+"V,")<0?(o(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:v[0]||(v[0]=u=>n("V")),title:"可瀏覽"},Fs)):L("",!0),(","+s(c)+",").indexOf(","+a.authID+"V,")>=0?(o(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:v[1]||(v[1]=u=>n("V")),title:"不可瀏覽"},Os)):L("",!0)]),e("div",{class:"authText",innerHTML:a.authText},null,8,qs),a.withSub?L("",!0):(o(),l("div",js,[e("div",{class:D(["authBtn",{editAble:(","+s(c)+",").indexOf(","+a.authID+"E,")>=0}]),onClick:v[2]||(v[2]=u=>n("E"))},Js,2)])),a.withSub?L("",!0):(o(),l("div",Qs,[e("div",{class:D(["authBtn",{removeAble:(","+s(c)+",").indexOf(","+a.authID+"D,")>=0}]),onClick:v[3]||(v[3]=u=>n("D"))},Zs,2)]))],2)]))}});const me=N(Ys,[["__scopeId","data-v-76a4fd01"]]),ea={class:"authListContainer"},ta={class:"subAuthListContainer"},sa=k({__name:"AdminAuthEditor",props:{mAuth:String},emits:["authChange","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new X,c=a;m([]);let n=m(),d=m(""+c.mAuth);const v=i.hostPath+i.adminMenuPath,u=$=>{d.value=$,w("authChange",d.value.split(",").sort())};ie(()=>c.mAuth,($,C)=>{d.value=""+$});const t=$=>{w("loadingSwitch",$)};return(async()=>{const $={mid:0};t(!0);const C=await g.callAPI(v,$);t(!1),n.value=C.message})(),($,C)=>(o(),l("div",ea,[(o(!0),l(F,null,j(s(n),(_,A)=>(o(),l("div",{class:"authListPage",key:A},[K(me,{authID:_.ID,authText:_.Text,mAuth:s(d),withSub:typeof _.SubMenu=="object",onAuthChange:u},null,8,["authID","authText","mAuth","withSub"]),e("div",ta,[(o(!0),l(F,null,j(_.SubMenu,(f,I)=>(o(),l("div",{class:"authSubPage",key:I},[K(me,{authID:f.ID,authText:f.Text,mAuth:s(d),withSub:!1,onAuthChange:u},null,8,["authID","authText","mAuth"])]))),128))])]))),128))]))}});const Ce=N(sa,[["__scopeId","data-v-51753127"]]),Me=a=>(O("data-v-3b021f15"),a=a(),q(),a),aa={class:"mainHeader"},na={class:"mainTitle"},ia={class:"backBtn"},oa=Me(()=>e("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"},null,-1)),la=[oa],ca={class:"titleMid"},da={key:0,class:"actionText"},ua={key:1,class:"actionText"},ra=Me(()=>e("div",{class:"mainOptions"},null,-1)),_a=k({__name:"AdminEditPageHeader",props:{eid:{type:Number,required:!0},subject:String,catagory:String},emits:["abrot"],setup(a,{emit:y}){const i=y,w=()=>{i("abrot")};return(g,c)=>(o(),l("div",aa,[e("div",na,[e("div",ia,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left-circle gobackBtn",viewBox:"0 0 16 16",onClick:w},la))]),e("div",null,[e("h3",null,[G(Y(a.subject)+" - ",1),e("span",ca,[a.eid<1?(o(),l("span",da,"新增")):L("",!0),a.eid>0?(o(),l("span",ua,"編輯")):L("",!0),G(Y(a.catagory),1)])])])]),ra]))}});const be=N(_a,[["__scopeId","data-v-3b021f15"]]),E=a=>(O("data-v-da6e0bc5"),a=a(),q(),a),va={class:"mainContainer"},ma={class:"admDataContainer"},ha={class:"admDataLine"},pa={class:"admDataCase"},ga=E(()=>e("div",{class:"admDataTitleField"},"員編",-1)),wa={class:"admDataInputeField"},fa=["innerHTML"],$a={class:"admDataCase"},Ca=E(()=>e("div",{class:"admDataTitleField"},"姓名",-1)),Ma={class:"admDataInputeField"},ba=["innerHTML"],ya={class:"admDataLine"},Pa={class:"admDataCase"},Aa=E(()=>e("div",{class:"admDataTitleField"},"部門",-1)),xa={class:"admDataInputeField"},La=["innerHTML"],Ia={class:"admDataCase"},Da=E(()=>e("div",{class:"admDataTitleField"},"分機",-1)),Sa={class:"admDataInputeField"},ka=["innerHTML"],Ba={class:"admDataLine"},Ta={class:"admDataCase"},Na=E(()=>e("div",{class:"admDataTitleField"},"Email",-1)),Ha={class:"admDataInputeField"},za=["innerHTML"],Ea={class:"admDataLine"},Ra={class:"admDataCase"},Va=E(()=>e("div",{class:"admDataTitleField"},"密碼",-1)),Fa={class:"admDataInputeField"},Ga=["type"],Oa=E(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),qa=[Oa],ja=E(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),Ua=[ja],Ka={class:"admDataCase"},Ja=E(()=>e("div",{class:"admDataTitleField"},"確認密碼",-1)),Qa={class:"admDataInputeField"},Wa=["type"],Xa=E(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),Za=[Xa],Ya=E(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),en=[Ya],tn={class:"authContainer"},sn={class:"authContainerHeader"},an=E(()=>e("div",null,[e("h5",null,"權限設定")],-1)),nn={key:0},on=E(()=>e("option",{value:"99_"}," --- 請選擇 --- ",-1)),ln=["value","innerHTML"],cn={class:"btnContainer"},dn=E(()=>e("div",null,null,-1)),un={class:"ActionBtnContainer"},rn=["innerHTML"],_n=k({__name:"AdminManagerEdit",props:{mid:{type:Number,required:!0},lstPG:{type:Number,required:!0}},emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new X;let c=m(!1),n=m(!1);m();let d=m(),v=m(!1);const u=a;let t=m({empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:u.mid==0?"000000":"",empConfirmPassword:u.mid==0?"000000":"",empAuth:"".split(","),empEnabled:!0});const P=h=>{t.value.empAuth=h,f()},$=()=>{t.value.empNo!=""?J.fire({icon:"question",title:"警告! 資料異動尚未儲存",text:"請問您確定要放棄"+(u.mid<1?"新增":"修改")+"嗎?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",confirmButtonText:"碓定放棄",cancelButtonText:"繼續編輯"}).then(h=>{h.isConfirmed&&(t.value={empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:(u.mid==0,""),empConfirmPassword:(u.mid==0,""),empAuth:[],empEnabled:!0},w("redirectPage",{managerID:0,lastPage:u.lstPG},"list"))}):(t.value={empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:(u.mid==0,""),empConfirmPassword:(u.mid==0,""),empAuth:[],empEnabled:!0},w("redirectPage",{managerID:0,lastPage:u.lstPG},"list"))},C=h=>{t.value=h,f()},_=h=>{w("loadingSwitch",h)},A=h=>{const r=h.target.value.split("_");t.value.empGroup=parseInt(r[0]),t.value.empAuth=r[1].split(","),f()},f=()=>{let h=!1;u.mid>0?(h=t.value.empAuth.length>0,(t.value.empPassword!=""||t.value.empConfirmPassword!="")&&(h=t.value.empPassword==t.value.empConfirmPassword)):(h=t.value.empNo!="",h=t.value.empNo.length==8,h=t.value.empPassword!=""&&t.value.empConfirmPassword!="",h=t.value.empPassword==t.value.empConfirmPassword,h=t.value.empAuth!=null&&t.value.empAuth.length>0),v.value=h},I=()=>{let h={empID:u.mid>0?u.mid:0,empNo:t.value.empNo,empName:t.value.empName,empCo:t.value.empBranch,empDep:t.value.empDep,empExt:t.value.empExt,empMail:t.value.empMail,empGroup:(u.mid==0,t.value.empGroup),empPass:u.mid==0?"000000":t.value.empPassword,empAuth:t.value.empAuth.length>0?t.value.empAuth.join(","):""};console.log(t.value),console.log(h),(async()=>{const p=i.hostPath+i.adminManagerUpdatePath;_(!0);const z=await g.callAPI(p,h);_(!1),console.log(z);const H=z.code;J.fire({icon:H==200?"success":"error",title:H==200?"管理員 "+(h.empName+"-"+h.empNo)+" "+(u.mid>0?"修改":"新增")+"成功.":"管理員 "+(h.empName+"-"+h.empNo)+" "+(u.mid>0?"修改":"新增")+"失敗.",text:H==200?"":"請稍候再試...",confirmButtonColor:"#3085d6",confirmButtonText:"碓定"}).then(R=>{R.isConfirmed&&H==200&&w("redirectPage",{managerID:0,lastPage:u.lstPG},"list")})})()};if(u.mid>0){const h=i.hostPath+i.adminManagerQueryPath;(async()=>{_(!0);const p=await g.callAPI(h,{mid:u.mid});_(!1),t.value.empID=p.message.empID,t.value.empNo=p.message.empNo,t.value.empName=p.message.empName,t.value.empBranch=p.message.empBranch,t.value.empBranchName=p.message.empBranchName,t.value.empDep=p.message.empDep,t.value.empDepName=p.message.empDepName,t.value.empExt=p.message.empExt,t.value.empGroup=p.message.empGroup,t.value.empMail=p.message.empMail,t.value.empAuth=p.message.empAuth,t.value.empEnabled=p.message.empEnabled,_(!1),f()})()}else(async()=>{const r=i.hostPath+i.adminGroupListPath;_(!0);const p=await g.callAPI(r,{page:1,rows:30});d.value=p.message,_(!1),f()})();return(h,r)=>(o(),l("div",va,[K(be,{eid:a.mid,subject:"管理員設定",catagory:"管理員",onAbrot:$},null,8,["eid"]),e("div",ma,[e("div",ha,[e("div",pa,[ga,e("div",wa,[a.mid==0?(o(),ee(zs,{key:0,onChangeEmp:C})):L("",!0),a.mid>0?(o(),l("span",{key:1,innerHTML:s(t).empNo},null,8,fa)):L("",!0)])]),e("div",$a,[Ca,e("div",Ma,[e("span",{innerHTML:s(t).empName},null,8,ba)])])]),e("div",ya,[e("div",Pa,[Aa,e("div",xa,[e("span",{innerHTML:s(t).empDepName},null,8,La)])]),e("div",Ia,[Da,e("div",Sa,[e("span",{innerHTML:s(t).empExt},null,8,ka)])])]),e("div",Ba,[e("div",Ta,[Na,e("div",Ha,[e("span",{innerHTML:s(t).empMail},null,8,za)])])]),e("div",Ea,[e("div",Ra,[Va,e("div",Fa,[Z(e("input",{type:s(c)?"text":"password",maxlength:"18","onUpdate:modelValue":r[0]||(r[0]=p=>s(t).empPassword=p)},null,8,Ga),[[ce,s(t).empPassword]]),s(c)?(o(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:r[1]||(r[1]=p=>U(c)?c.value=!1:c=!1),title:"顯示密碼"},qa)):L("",!0),s(c)?L("",!0):(o(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:r[2]||(r[2]=p=>U(c)?c.value=!0:c=!0),title:"隱藏密碼"},Ua))])]),e("div",Ka,[Ja,e("div",Qa,[Z(e("input",{type:s(n)?"text":"password",maxlength:"18","onUpdate:modelValue":r[3]||(r[3]=p=>s(t).empConfirmPassword=p)},null,8,Wa),[[ce,s(t).empConfirmPassword]]),s(n)?(o(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:r[4]||(r[4]=p=>U(n)?n.value=!1:n=!1),title:"顯示密碼"},Za)):L("",!0),s(n)?L("",!0):(o(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:r[5]||(r[5]=p=>U(n)?n.value=!0:n=!0),title:"隱藏密碼"},en))])])])]),e("div",tn,[e("div",sn,[an,a.mid==0?(o(),l("div",nn,[G(" 套用群組："),e("select",{onChange:r[6]||(r[6]=p=>A(p))},[on,(o(!0),l(F,null,j(s(d),(p,z)=>(o(),l("option",{value:p.agID+"_"+p.agContent,key:z,innerHTML:p.agName},null,8,ln))),128))],32)])):L("",!0)]),K(Ce,{mAuth:s(t).empAuth==null?"":s(t).empAuth.join(","),onAuthChange:P},null,8,["mAuth"])]),e("div",cn,[dn,e("div",un,[e("div",{class:"btn btn-sm btn-danger actionBtn aborttBtn",innerHTML:"放棄"+(a.mid<1?"新增":"修改"),onClick:$},null,8,rn),e("div",{class:D(["btn btn-sm actionBtn submitBtn",{"btn-success":s(v),"btn-disabled":!s(v)}]),onClick:I}," 送出",2)])])]))}});const he=N(_n,[["__scopeId","data-v-da6e0bc5"]]),vn={class:"mainContainer"},mn=k({__name:"AdminManager",emits:["loadingSwitch"],setup(a,{emit:y}){let i=se(),w=m(0),g=m(0),c=m(1);const n=y,d=(u,t)=>{i.value=t=="modify"?he:ve,g.value=u.managerID,c.value=u.lastPage},v=u=>{n("loadingSwitch",u)};return i.value=i.value!=null?i.value:w.value==0?ve:he,(u,t)=>(o(),l("div",vn,[(o(),ee(ae(s(i)),{mid:s(g),lstPG:s(c),onRedirectPage:d,onLoadingSwitch:v},null,40,["mid","lstPG"]))]))}});const hn=N(mn,[["__scopeId","data-v-65aa0191"]]),S=a=>(O("data-v-ef62ec93"),a=a(),q(),a),pn={class:"mainContainer"},gn={class:"mainHeader"},wn=S(()=>e("div",{class:"mainTitle"},[e("h3",null,[G("管理員群組設定 - "),e("span",{class:"titleMid"},"管理員群組列表")])],-1)),fn={class:"mainOptions"},$n=S(()=>e("div",null,null,-1)),Cn=S(()=>e("title",null,"搜尋",-1)),Mn=S(()=>e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)),bn=[Cn,Mn],yn=S(()=>e("div",{class:"searchTitle"},"搜尋",-1)),Pn=S(()=>e("div",{class:"searchBody"},null,-1)),An=[yn,Pn],xn={key:0,class:"zeroRow"},Ln=S(()=>e("div",null,[e("h4",null,"未尋獲任何資料...")],-1)),In={class:"showAllBtn"},Dn={key:1,class:"listContainer"},Sn={class:"resultRows"},kn={class:"showRemoved"},Bn={class:"resultCount"},Tn={class:"resultNumber"},Nn=S(()=>e("div",{class:"listTitle"},[e("div",{class:"listTitleField"}),e("div",{class:"listTitleField"},"管理員群組"),e("div",{class:"listTitleField"},"操作")],-1)),Hn={class:"listBody"},zn={class:"listLine"},En=["innerHTML"],Rn=["innerHTML"],Vn={key:0,class:"listField managerAction"},Fn={class:"listAction"},Gn=["onClick"],On=S(()=>e("title",null,"編輯",-1)),qn=S(()=>e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},null,-1)),jn=[On,qn],Un={class:"listAction"},Kn=["onClick"],Jn=S(()=>e("title",null,"刪除",-1)),Qn=S(()=>e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1)),Wn=[Jn,Qn],Xn={key:1,class:"listField managerAction2"},Zn={class:"listAction"},Yn=["onClick"],ei=S(()=>e("title",null,"復原",-1)),ti=S(()=>e("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"},null,-1)),si=[ei,ti],ai={class:"listPagination"},ni={class:"PaginationContainer"},ii=S(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-rewind-fill"})],-1)),oi=S(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill lastPage"})],-1)),li={class:"pageList"},ci=S(()=>e("div",null,null,-1)),di=S(()=>e("div",null,null,-1)),ui=S(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill"})],-1)),ri=S(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-fast-forward-fill"})],-1)),_i=k({__name:"AdminGroupList",props:{lastPage:Number},emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=y,g=new ne,c=new X;$e();const n=i.hostPath+i.adminGroupListPath,d=m(0),v=m();let u=m(0);m(!1);let t=m(!1),P=m(1),$=m(30),C=m([]),_=m(0),A=m(0),f=m(!1);const I=a;ie(()=>I.lastPage,(T,x)=>{P.value=x??1});const h=async(T,x)=>{R(!0);const M=await c.callAPI(n,{page:T,rows:x,showAll:f.value});v.value=M.message,u.value=Math.ceil(v.value.length/$.value),d.value=v.value.length,_.value=u.value<5?1:Math.floor(P.value/5)*5,A.value=_.value+5>=u.value?u.value:_.value+5,C.value.length=0;for(let b=_.value;b<A.value+1;b++)C.value.push(b);R(!1)},r=T=>{w("redirectPage",{groupObj:T,lastPage:P.value},"modify")},p=(T,x)=>{J.fire({icon:"question",title:`警告!
群組 "`+x+`"
將會被刪除`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(M=>{if(M.isConfirmed){const b=i.hostPath+i.adminGroupRemovePath;(async()=>{R(!0),await c.callAPI(b,{agID:T}),R(!1),h(P.value,$.value),g.miniSuccess("群組 "+x+" 已刪除")})()}})},z=(T,x)=>{J.fire({icon:"question",title:'群組 "'+x+`"
將會被復原`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(M=>{if(M.isConfirmed){const b=i.hostPath+i.adminGroupRevivePath;(async()=>{R(!0),await c.callAPI(b,{agID:T}),R(!1),h(P.value,$.value),g.miniSuccess("群組 "+x+" 已復原")})()}})},H=()=>{f.value=!f.value,h(P.value,$.value)},R=T=>{w("loadingSwitch",T)};return h(P.value,$.value),(T,x)=>(o(),l("div",pn,[e("div",gn,[wn,e("div",fn,[$n,e("div",null,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512",class:"searchBtn",onClick:x[0]||(x[0]=M=>U(t)?t.value=!s(t):t=!s(t))},bn))]),e("div",null,[e("div",{class:"btn btn-sm btn-success",onClick:x[1]||(x[1]=M=>r({agID:0,agName:"",agRank:99,agContent:""}))},"新增群組 ")])])]),e("div",{class:D(["searchContainer",{showSearch:s(t)}])},An,2),d.value==0?(o(),l("div",xn,[Ln,e("div",In,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(f),"btn-primary":s(f)}]),onClick:H},"顯示已刪除資料",2)])])):L("",!0),d.value>0?(o(),l("div",Dn,[e("div",Sn,[e("div",kn,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(f),"btn-primary":s(f)}]),onClick:H},"顯示已刪除資料",2)]),e("div",Bn,[G("資料總筆數："),e("span",Tn,Y(d.value),1),G(" 筆")])]),Nn,e("div",Hn,[(o(!0),l(F,null,j(v.value,(M,b)=>(o(),l("div",{class:D(["listLineContainer",{removedRecord:M.agEnabled==0}]),key:b},[e("div",zn,[e("div",{class:"listField lineIndex",innerHTML:b+1},null,8,En),e("div",{class:"listField managerNo",innerHTML:M.agName},null,8,Rn),M.agEnabled>0?(o(),l("div",Vn,[e("div",Fn,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",class:"actionEdit",onClick:V=>r(M)},jn,8,Gn))]),e("div",Un,[M.agEnabled>0?(o(),l("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",class:"actionDel",onClick:V=>p(M.agID,M.agName)},Wn,8,Kn)):L("",!0)])])):L("",!0),M.agEnabled==0?(o(),l("div",Xn,[e("div",Zn,[(o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",class:"bi bi-reply-fill dataRestore",viewBox:"0 0 16 16",onClick:V=>z(M.agID,M.agName)},si,8,Yn))])])):L("",!0)])],2))),128))]),e("div",ai,[e("div",ni,[ii,oi,e("div",li,[ci,(o(!0),l(F,null,j(s(C),M=>(o(),l("div",{key:M,class:D(["pageItem",{pageItemPicked:M==s(P),pageItemMov:M!=s(P)}])},Y(M),3))),128)),di]),ui,ri])])])):L("",!0)]))}});const pe=N(_i,[["__scopeId","data-v-ef62ec93"]]),le=a=>(O("data-v-99c6ef94"),a=a(),q(),a),vi={class:"mainContainer"},mi={class:"grpDataContainer"},hi={class:"grpDataLine"},pi={class:"grpDataCase"},gi=le(()=>e("div",{class:"grpDataTitleField"},"群組名稱",-1)),wi={class:"grpDataInputeField"},fi={class:"grpDataCase"},$i=le(()=>e("div",{class:"grpDataTitleField"},"群組層級",-1)),Ci={class:"grpDataInputeField"},Mi=fe('<option value="99" data-v-99c6ef94>一般管理員</option><option value="3" data-v-99c6ef94>一般主管</option><option value="2" data-v-99c6ef94>高階主管</option><option value="1" data-v-99c6ef94>最高管理者</option><option value="0" data-v-99c6ef94>系統管理者</option>',5),bi=[Mi],yi={class:"authContainer"},Pi=le(()=>e("div",{class:"authContainerHeader"},[e("h5",null,"權限設定")],-1)),Ai={class:"btnContainer"},xi=le(()=>e("div",null,null,-1)),Li={class:"ActionBtnContainer"},Ii=["innerHTML"],Di=k({__name:"AdminGroupEdit",props:{gObj:{type:Object,required:!0},lstPG:{type:Number,required:!0}},emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){const i=Q(),w=new X,g=y,c=a;let n=m({groupID:0,groupName:"",groupRank:99,groupAuth:""});xe(()=>{n.value.groupID=c.gObj.agID,n.value.groupName=c.gObj.agName,n.value.groupRank=c.gObj.agRank,n.value.groupAuth=c.gObj.agContent,d.value=n.value.groupID>0});let d=m(!1);const v=async()=>{const C=i.hostPath+i.adminGroupNameVerifyPath;$(!0);const _=await w.callAPI(C,{groupid:n.value.groupID,groupName:n.value.groupRank});d.value=_.message.toUpperCase()=="OK",$(!1)},u=C=>{n.value.groupAuth=C.join(",")},t=()=>{g("redirectPage",{managerID:0,lastPage:c.lstPG},"list")},P=async()=>{const C=i.hostPath+i.adminGroupUpdatePath;$(!0);const _=await w.callAPI(C,n.value);$(!1);let A="群組資料";A+=n.value.groupID==0?"新增":"更新",A+=_.code==200?"成功":"失敗";let f="群組 "+n.value.groupName+" 已"+(n.value.groupID==0?"新增":"更新")+" !";J.fire({icon:_.code==200?"success":"error",title:A,text:_.code==200?f:_.message,confirmButtonColor:"#3085d6",confirmButtonText:"碓定"}).then(I=>{g("redirectPage",{managerID:0,lastPage:c.lstPG},"list")})},$=C=>{g("loadingSwitch",C)};return(C,_)=>(o(),l("div",vi,[K(be,{eid:s(n).groupID,subject:"管理群組設定",catagory:"群組",onAbrot:t},null,8,["eid"]),e("div",mi,[e("div",hi,[e("div",pi,[gi,e("div",wi,[Z(e("input",{type:"text",maxlength:"10","onUpdate:modelValue":_[0]||(_[0]=A=>s(n).groupName=A),onChange:v},null,544),[[de,s(n).groupName]])])]),e("div",fi,[$i,e("div",Ci,[Z(e("select",{"onUpdate:modelValue":_[1]||(_[1]=A=>s(n).groupRank=A)},bi,512),[[Le,s(n).groupRank]])])])])]),e("div",yi,[Pi,K(Ce,{mAuth:s(n).groupAuth,onAuthChange:u},null,8,["mAuth"])]),e("div",Ai,[xi,e("div",Li,[e("div",{class:"btn btn-sm btn-danger actionBtn aborttBtn",innerHTML:"放棄"+(a.gObj.agID<1?"新增":"修改"),onClick:t},null,8,Ii),e("div",{class:D(["btn btn-sm actionBtn submitBtn",{"btn-success":s(d)&&s(n).groupAuth!="","btn-disabled":!s(d)||s(n).groupAuth==""}]),onClick:P}," 送出",2)])])]))}});const ge=N(Di,[["__scopeId","data-v-99c6ef94"]]),Si={class:"mainContainer"},ki=k({__name:"AdminGroup",emits:["loadingSwitch"],setup(a,{emit:y}){let i=se(),w=m(0),g=m(),c=m(1);const n=y,d=(u,t)=>{i.value=t=="modify"?ge:pe,g.value=u.groupObj,c.value=u.lastPage},v=u=>{n("loadingSwitch",u)};return i.value=i.value!=null?i.value:w.value==0?pe:ge,(u,t)=>(o(),l("div",Si,[(o(),ee(ae(s(i)),{gObj:s(g),lstPG:s(c),onRedirectPage:d,onLoadingSwitch:v},null,40,["gObj","lstPG"]))]))}});const Bi=N(ki,[["__scopeId","data-v-13a2dea4"]]),Ti={class:"AdminMainContainer"},Ni={class:"AdminMainBody"},Hi=k({__name:"AdminMain",props:{goFunction:String},emits:["redirectPage","loadingSwitch"],setup(a,{emit:y}){let i=se();const w=y,g=(d,v)=>{n(""+v)},c=d=>{w("loadingSwitch",d)},n=d=>{switch(d){case"":i.value=_e;break;case"member":i.value=Lt;break;case"manager_group":i.value=Bi;break;case"manager":i.value=hn;break;case"login":w("redirectPage",null,d);break}};return i.value=_e,(d,v)=>(o(),l("div",Ti,[K(ct,{onRedirectPage:g,onLoadingSwitch:c}),e("div",Ni,[(o(),ee(ae(s(i)),{onRedirectPage:g,onLoadingSwitch:c},null,32))])]))}});const we=N(Hi,[["__scopeId","data-v-d01c2979"]]),zi={class:"adminContainer"},Ei=k({__name:"AdminView",emits:["loadingSwitch"],setup(a,{emit:y}){let i=se(),w=m(),g=m(""),c=typeof sessionStorage.getItem("adminInfo")<"u"&&sessionStorage.getItem("adminInfo")!=null;c&&(w.value=JSON.parse(""+sessionStorage.getItem("adminInfo")));const n=y,d=(u,t)=>{if(t!=null)switch(t){case"main":case"home":i.value=we;break;case"login":i.value=re;break;default:g.value=t;break}},v=u=>{n("loadingSwitch",u)};return i.value=i.value!=null?i.value:c?we:re,(u,t)=>(o(),l("div",zi,[(o(),ee(ae(s(i)),{goFunction:s(g),onRedirectPage:d,onLoadingSwitch:v},null,40,["goFunction"]))]))}});const Vi=N(Ei,[["__scopeId","data-v-10c367c5"]]);export{Vi as default};
