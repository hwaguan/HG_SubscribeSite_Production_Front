import{d as N,s as W,r as v,o as a,c as l,i as X,f as s,H as ye,a as e,y as ee,z as ue,I as de,E as Q,e as I,B as D,F as q,k as U,p as K,g as J,J as ae,A as Z,_ as R,b as j,v as G,K as Ae,w as ne,t as Y,L as re,M as ie,N as te,O as oe,D as Le,h as xe,C as Ie}from"./index-be54d010.js";const le=i=>(K("data-v-4dee32f9"),i=i(),J(),i),De={class:"LoginPanelContainer"},Se={class:"panenTitle"},ke=le(()=>e("h2",null,"華冠投顧",-1)),Be=le(()=>e("h4",null,"ClickGo 網站管理平台",-1)),Te=["type"],Ne=le(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),He=[Ne],ze=le(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),Ee=[ze],Re=N({__name:"AdminLogin",emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new ae,d=new Z;let o=v({userName:"",password:""}),u=v(!1),h=v(!1);const r=p=>{M("loadingSwitch",p)},t=async()=>{let p=o.value.userName=="sysAdmin"&&o.value.password=="1qazXSW@";if(n.hostPath+n.tokenPath,o.value.userName!=""&&o.value.password!="")if(r(!0),p){r(!1);const C='{"admID": 0,"admName": "最高管理者","admCorp": "HG01","admDep": "0004","admMail": "","admExt": "","admAccount": "","admPassword": "","admAuthority": "all","admEnabled": 1,"admCreateDate": "2023-12-06T16:40:28.387","admLastModify": "","admGroup": 0}';sessionStorage.setItem("adminInfo",C),M("redirectPage",null,"main")}else{const C=n.hostPath+n.adminLoginPath,g={account:o.value.userName,password:o.value.password},$=await d.callAPI(C,g);if($.result)sessionStorage.setItem("adminInfo",JSON.stringify($.message)),M("redirectPage",null,"main");else if($.code==-1){let x="<a href='#'>忘記密碼?</a>";r(!1),f.centralError("登入失敗","請確認您的登入資訊!",x)}else U.fire({icon:"warning",title:"服務器錯誤，請稍候再試"});r(!1)}},L=p=>{p.keyCode==13&&o.value.userName!=""&&o.value.password!=""&&t()};return(p,C)=>(a(),l(q,null,[X(ye,{status:s(h)},null,8,["status"]),e("div",{class:"AdminLoginContainer",onKeyup:L},[e("div",De,[e("div",Se,[ke,Be,ee(e("input",{class:"acc",type:"text","onUpdate:modelValue":C[0]||(C[0]=g=>s(o).userName=g),placeholder:"帳號"},null,512),[[ue,s(o).userName]]),ee(e("input",{class:"pwd",type:s(u)?"text":"password","onUpdate:modelValue":C[1]||(C[1]=g=>s(o).password=g),placeholder:"密碼"},null,8,Te),[[de,s(o).password]]),s(u)?(a(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:C[2]||(C[2]=g=>Q(u)?u.value=!1:u=!1),title:"顯示密碼"},He)):I("",!0),s(u)?I("",!0):(a(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:C[3]||(C[3]=g=>Q(u)?u.value=!0:u=!0),title:"隱藏密碼"},Ee)),e("div",{class:D({noGo:s(o).userName==""||s(o).password=="",goodToGo:s(o).userName!=""&&s(o).password!=""}),onClick:t}," GO ",2)])])],32)],64))}});const he=R(Re,[["__scopeId","data-v-4dee32f9"]]),ve=i=>(K("data-v-6b2f9041"),i=i(),J(),i),Ve={class:"menuContainer"},Fe=["onMouseover","onMouseout"],Ge=["onClick"],Oe={class:"menuItemText"},qe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house-fill homeIcon",viewBox:"0 0 16 16"},je=ve(()=>e("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z"},null,-1)),Ue=ve(()=>e("path",{d:"m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"},null,-1)),Ke=[je,Ue],Je=["innerHTML"],Qe={class:"switchBtnCase"},We=ve(()=>e("path",{"fill-rule":"evenodd",d:"M7.022 1.566a1.13 1.13 0 0 1 1.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H1.144c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"},null,-1)),Xe=[We],Ze=["onMouseover","onMouseout"],Ye=["innerHTML","onClick"],et=N({__name:"AdminMenu",emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=JSON.parse(""+sessionStorage.getItem("adminInfo")).admID,f=new Z,d=n.hostPath+n.adminMenuPath,o=A;let u=v();const h=[{Action:"Home",Text:"首頁",Hit:!0,Mov:!1,Open:!1}];let r=v(h[0]),t=v(null);const L=$=>{o("loadingSwitch",$)};(async()=>{const $={mid:M};L(!0);const x=await f.callAPI(d,$);u.value=x.message,u.value.forEach(P=>{P.Open=!1,P.Hit=!1,P.Mov=!1,P.SubMenu&&P.SubMenu.forEach(b=>{b.Hit=!1,b.Mov=!1})}),u.value=h.concat(x.message),L(!1)})();const C=$=>{t.value!=null&&(t.value.Hit=!1),t.value=null,typeof $.SubMenu>"u"?r.value!=$&&(r.value!=null&&(r.value.Hit=!1),$.Hit=!0,r.value=$,o("redirectPage",null,$.Action)):$.Open=!$.Open},g=$=>{r.value!=null&&(r.value.Hit=!1),r.value=null,t.value!=$&&(t.value!=null&&(t.value.Hit=!1),$.Hit=!0,t.value=$,o("redirectPage",null,$.Action))};return($,x)=>(a(),l("div",Ve,[(a(!0),l(q,null,j(s(u),(P,b)=>(a(),l("div",{class:D(["mainMenuItem",{mainMenuItemMov:P.Mov&&!P.Hit,mainMenuItemHit:P.Hit}]),key:b,onMouseover:c=>P.Mov=!0,onMouseout:c=>P.Mov=!1},[e("div",{class:"mainMenuItemContainer",onClick:c=>C(P)},[e("div",Oe,[b==0?(a(),l("svg",qe,Ke)):I("",!0),e("span",{innerHTML:P.Text},null,8,Je)]),e("div",Qe,[P.SubMenu?(a(),l("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:D(["bi bi-triangle-fill",{btnSwitchOff:!P.Open}]),viewBox:"0 0 16 16"},Xe,2)):I("",!0)])],8,Ge),e("div",{class:D(["subMenu",[{openSub:P.Open},"subMenu_"+b]])},[(a(!0),l(q,null,j(P.SubMenu,(c,w)=>(a(),l("div",{class:"subMenuItem",key:w,onMouseover:B=>c.Mov=!0,onMouseout:B=>c.Mov=!1},[e("div",{class:D(["subMenuItemText",{subMenuItemMov:c.Mov&&!c.Hit,subMenuItemHit:c.Hit}]),innerHTML:c.Text,onClick:B=>g(c)},null,10,Ye)],40,Ze))),128))],2)],42,Fe))),128))]))}});const tt=R(et,[["__scopeId","data-v-6b2f9041"]]),st={class:"adminNavContainer"},at={class:"adminNavBody"},nt=e("div",{class:"adminNavMain"},[e("h4",null,[G("華冠投顧 ClickGo 管理平台"),e("span",{class:"version"},"V1.0")])],-1),it={class:"adminNavBtn"},ot=e("path",{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},null,-1),lt=[ot],ct={class:"adminLeftMenu"},dt=N({__name:"AdminNav",emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=A,M=()=>{U.fire({icon:"question",title:"您確定要登出嗎",text:"你要確定都沒有工作要處理了嘿!!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(o=>{o.isConfirmed&&(sessionStorage.clear(),n("redirectPage",null,"login"))})},f=(o,u)=>{n("redirectPage",o,u)},d=o=>{n("loadingSwitch",o)};return(o,u)=>(a(),l("div",st,[e("div",at,[nt,e("div",it,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",onClick:u[0]||(u[0]=h=>M())},lt))])]),e("div",ct,[X(tt,{onRedirectPage:f,onLoadingSwitch:d})])]))}});const ut=i=>(K("data-v-9b084061"),i=i(),J(),i),rt={class:"mainContainer"},vt=ut(()=>e("div",{class:"mainHeader"},[e("div",{class:"mainOptions"},"Home")],-1)),_t=[vt],ht=N({__name:"AdminHome",setup(i){return(A,n)=>(a(),l("div",rt,_t))}});const me=R(ht,[["__scopeId","data-v-9b084061"]]),_e=Ae({id:"dbEntities",state:()=>({adminManagerEntity:{admID:Number,admName:String,admCorp:String,admDep:String,admMail:String,admExt:String,admAccount:String,admPassword:String,admGroup:Number,admAuthority:String,admEnabled:Number,admCreateDate:String,admLastModify:String}})}),H=i=>(K("data-v-5bb9a3fa"),i=i(),J(),i),mt={class:"mainContainer"},pt={class:"mainHeader"},gt=H(()=>e("div",{class:"mainTitle"},[e("h3",null,[G("會員管理 - "),e("span",{class:"titleMid"},"會員列表")])],-1)),wt={class:"mainOptions"},ft=H(()=>e("div",null,null,-1)),$t=H(()=>e("title",null,"搜尋",-1)),Ct=H(()=>e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)),bt=[$t,Ct],Mt=H(()=>e("div",{class:"searchTitle"},"搜尋",-1)),Pt=H(()=>e("div",{class:"searchBody"},null,-1)),yt=[Mt,Pt],At={key:0,class:"zeroRow"},Lt=H(()=>e("div",null,[e("h4",null,"未尋獲任何資料...")],-1)),xt={class:"showAllBtn"},It={key:1,class:"listContainer"},Dt={class:"resultRows"},St={class:"showRemoved"},kt={class:"resultCount"},Bt={class:"resultNumber"},Tt=re('<div class="listTitle" data-v-5bb9a3fa><div class="listTitleField" data-v-5bb9a3fa></div><div class="listTitleField" data-v-5bb9a3fa>員編</div><div class="listTitleField" data-v-5bb9a3fa>姓名</div><div class="listTitleField" data-v-5bb9a3fa>部門</div><div class="listTitleField" data-v-5bb9a3fa>權限</div><div class="listTitleField" data-v-5bb9a3fa>Email</div><div class="listTitleField" data-v-5bb9a3fa>操作</div></div>',1),Nt={class:"listBody"},Ht={class:"listLine"},zt=["innerHTML"],Et=["innerHTML"],Rt=["innerHTML"],Vt=["innerHTML"],Ft=["innerHTML"],Gt={class:"listField managerEmail"},Ot=["href","innerHTML"],qt={key:0,class:"listField managerAction"},jt={class:"listAction"},Ut=["onClick"],Kt=H(()=>e("title",null,"編輯",-1)),Jt=H(()=>e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},null,-1)),Qt=[Kt,Jt],Wt={class:"listAction"},Xt=["onClick"],Zt=H(()=>e("title",null,"刪除",-1)),Yt=H(()=>e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1)),es=[Zt,Yt],ts={key:1,class:"listField managerAction2"},ss={class:"listAction"},as=["onClick"],ns=H(()=>e("title",null,"復原",-1)),is=H(()=>e("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"},null,-1)),os=[ns,is],ls={class:"listPagination"},cs={class:"PaginationContainer"},ds=H(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-rewind-fill"})],-1)),us=H(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill lastPage"})],-1)),rs={class:"pageList"},vs=H(()=>e("div",null,null,-1)),_s=H(()=>e("div",null,null,-1)),hs=H(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill"})],-1)),ms=H(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-fast-forward-fill"})],-1)),ps=N({__name:"AdminMemberList",props:{lastPage:Number},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new ae,d=new Z;_e();const o=n.hostPath+n.adminMemberTotalPath,u=n.hostPath+n.adminMemberListPath,h=v(0),r=v();let t=v(0);v(!1);let L=v(!1),p=v(1),C=v(30),g=v([]),$=v(0),x=v(0),P=v(!1);const b=i;ne(()=>b.lastPage,(y,m)=>{p.value=m??1});const c=async(y,m)=>{S(!0);const _=await d.callAPI(o,{});h.value=_.message;const k=await d.callAPI(u,{page:y,rows:m,showAll:P.value});r.value=k.message,t.value=Math.ceil(h.value/C.value),$.value=t.value<5?1:Math.floor(p.value/5)*5,x.value=$.value+5>=t.value?t.value:$.value+5,g.value.length=0;for(let V=$.value;V<x.value+1;V++)g.value.push(V);S(!1)},w=y=>{M("redirectPage",{managerID:y,lastPage:p.value},"modify")},B=(y,m)=>{U.fire({icon:"question",title:`警告!
管理員 "`+m+`"
的權限將會被刪除`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(_=>{if(_.isConfirmed){const k=n.hostPath+n.adminManagerRemovePath;(async()=>{S(!0),await d.callAPI(k,{aID:y}),S(!1),c(p.value,C.value),f.miniSuccess("管理員 "+m+" 已刪除")})()}})},E=(y,m)=>{U.fire({icon:"question",title:'管理員 "'+m+`"
的權限將會被復原`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(_=>{if(_.isConfirmed){const k=n.hostPath+n.adminManagerRevivePath;(async()=>{S(!0),await d.callAPI(k,{aID:y}),S(!1),c(p.value,C.value),f.miniSuccess("管理員 "+m+" 已復原")})()}})},F=()=>{P.value=!P.value,c(p.value,C.value)},S=y=>{M("loadingSwitch",y)};return c(p.value,C.value),(y,m)=>(a(),l("div",mt,[e("div",pt,[gt,e("div",wt,[ft,e("div",null,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512",class:"searchBtn",onClick:m[0]||(m[0]=_=>Q(L)?L.value=!s(L):L=!s(L))},bt))]),I("",!0)])]),e("div",{class:D(["searchContainer",{showSearch:s(L)}])},yt,2),h.value==0?(a(),l("div",At,[Lt,e("div",xt,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(P),"btn-primary":s(P)}]),onClick:F},"顯示已刪除資料",2)])])):I("",!0),h.value>0?(a(),l("div",It,[e("div",Dt,[e("div",St,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(P),"btn-primary":s(P)}]),onClick:F},"顯示已刪除資料",2)]),e("div",kt,[G("資料總筆數："),e("span",Bt,Y(h.value),1),G(" 筆")])]),Tt,e("div",Nt,[(a(!0),l(q,null,j(r.value,(_,k)=>(a(),l("div",{class:D(["listLineContainer",{removedRecord:_.enabled==0}]),key:k},[e("div",Ht,[e("div",{class:"listField lineIndex",innerHTML:k+1},null,8,zt),e("div",{class:"listField managerNo",innerHTML:_.No},null,8,Et),e("div",{class:"listField managerName",innerHTML:_.name},null,8,Rt),e("div",{class:"listField managerDep",innerHTML:_.Dep},null,8,Vt),e("div",{class:"listField managerAuth",innerHTML:_.AuthGroupName},null,8,Ft),e("div",Gt,[e("a",{href:"mailTo:"+_.Email,innerHTML:_.Email},null,8,Ot)]),_.enabled>0?(a(),l("div",qt,[e("div",jt,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",class:"actionEdit",onClick:V=>w(_.ID)},Qt,8,Ut))]),e("div",Wt,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",class:"actionDel",onClick:V=>B(_.ID,_.name)},es,8,Xt))])])):I("",!0),_.enabled==0?(a(),l("div",ts,[e("div",ss,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",class:"bi bi-reply-fill dataRestore",viewBox:"0 0 16 16",onClick:V=>E(_.ID,_.name)},os,8,as))])])):I("",!0)])],2))),128))]),e("div",ls,[e("div",cs,[ds,us,e("div",rs,[vs,(a(!0),l(q,null,j(s(g),_=>(a(),l("div",{key:_,class:D(["pageItem",{pageItemPicked:_==s(p),pageItemMov:_!=s(p)}])},Y(_),3))),128)),_s]),hs,ms])])])):I("",!0)]))}});const gs=R(ps,[["__scopeId","data-v-5bb9a3fa"]]),ws=i=>(K("data-v-8e3354db"),i=i(),J(),i),fs={class:"mainContainer"},$s=ws(()=>e("div",{class:"mainHeader"},[e("div",{class:"mainTitle"},[e("h3",null,"會員管理 - "),e("h4",null,"會員編輯")]),e("div",{class:"mainOptions"})],-1)),Cs=[$s],bs=N({__name:"AdminMemberEdit",setup(i){return(A,n)=>(a(),l("div",fs,Cs))}});const Ms=R(bs,[["__scopeId","data-v-8e3354db"]]),Ps={class:"mainContainer"},ys=N({__name:"AdminMember",setup(i){let A=ie(),n=v(0);const M=(d,o)=>{},f=()=>{};return A.value=A.value!=null?A.value:n.value==0?gs:Ms,(d,o)=>(a(),l("div",Ps,[(a(),te(oe(s(A)),{reset:f,onRedirectPage:M},null,32))]))}});const As=R(ys,[["__scopeId","data-v-b9437090"]]),z=i=>(K("data-v-ccc9ac18"),i=i(),J(),i),Ls={class:"mainContainer"},xs={class:"mainHeader"},Is=z(()=>e("div",{class:"mainTitle"},[e("h3",null,[G("管理員設定 - "),e("span",{class:"titleMid"},"管理員列表")])],-1)),Ds={class:"mainOptions"},Ss=z(()=>e("div",null,null,-1)),ks=z(()=>e("title",null,"搜尋",-1)),Bs=z(()=>e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)),Ts=[ks,Bs],Ns=z(()=>e("div",{class:"searchTitle"},"搜尋",-1)),Hs=z(()=>e("div",{class:"searchBody"},null,-1)),zs=[Ns,Hs],Es={key:0,class:"zeroRow"},Rs=z(()=>e("div",null,[e("h4",null,"未尋獲任何資料...")],-1)),Vs={class:"showAllBtn"},Fs={key:1,class:"listContainer"},Gs={class:"resultRows"},Os={class:"showRemoved"},qs={class:"resultCount"},js={class:"resultNumber"},Us=re('<div class="listTitle" data-v-ccc9ac18><div class="listTitleField" data-v-ccc9ac18></div><div class="listTitleField" data-v-ccc9ac18>員編</div><div class="listTitleField" data-v-ccc9ac18>姓名</div><div class="listTitleField" data-v-ccc9ac18>部門</div><div class="listTitleField" data-v-ccc9ac18>權限</div><div class="listTitleField" data-v-ccc9ac18>Email</div><div class="listTitleField" data-v-ccc9ac18>操作</div></div>',1),Ks={class:"listBody"},Js={class:"listLine"},Qs=["innerHTML"],Ws=["innerHTML"],Xs=["innerHTML"],Zs=["innerHTML"],Ys=["innerHTML"],ea={class:"listField managerEmail"},ta=["href","innerHTML"],sa={key:0,class:"listField managerAction"},aa={class:"listAction"},na=["onClick"],ia=z(()=>e("title",null,"編輯",-1)),oa=z(()=>e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},null,-1)),la=[ia,oa],ca={class:"listAction"},da=["onClick"],ua=z(()=>e("title",null,"刪除",-1)),ra=z(()=>e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1)),va=[ua,ra],_a={key:1,class:"listField managerAction2"},ha={class:"listAction"},ma=["onClick"],pa=z(()=>e("title",null,"復原",-1)),ga=z(()=>e("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"},null,-1)),wa=[pa,ga],fa={class:"listPagination"},$a={class:"PaginationContainer"},Ca=z(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-rewind-fill"})],-1)),ba=z(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill lastPage"})],-1)),Ma={class:"pageList"},Pa=z(()=>e("div",null,null,-1)),ya=z(()=>e("div",null,null,-1)),Aa=z(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill"})],-1)),La=z(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-fast-forward-fill"})],-1)),xa=N({__name:"AdminManagerList",props:{lastPage:Number},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new ae,d=new Z;_e();const o=n.hostPath+n.adminManagerTotalPath,u=n.hostPath+n.adminManagerListPath,h=v(0),r=v();let t=v(0);v(!1);let L=v(!1),p=v(1),C=v(30),g=v([]),$=v(0),x=v(0),P=v(!1);const b=i;ne(()=>b.lastPage,(y,m)=>{p.value=m??1});const c=async(y,m)=>{S(!0);const _=await d.callAPI(o,{});h.value=_.message;const k=await d.callAPI(u,{page:y,rows:m,showAll:P.value});r.value=k.message,t.value=Math.ceil(h.value/C.value),$.value=t.value<5?1:Math.floor(p.value/5)*5,x.value=$.value+5>=t.value?t.value:$.value+5,g.value.length=0;for(let V=$.value;V<x.value+1;V++)g.value.push(V);S(!1)},w=y=>{M("redirectPage",{managerID:y,lastPage:p.value},"modify")},B=(y,m)=>{U.fire({icon:"question",title:`警告!
管理員 "`+m+`"
的權限將會被刪除`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(_=>{if(_.isConfirmed){const k=n.hostPath+n.adminManagerRemovePath;(async()=>{S(!0),await d.callAPI(k,{aID:y}),S(!1),c(p.value,C.value),f.miniSuccess("管理員 "+m+" 已刪除")})()}})},E=(y,m)=>{U.fire({icon:"question",title:'管理員 "'+m+`"
的權限將會被復原`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(_=>{if(_.isConfirmed){const k=n.hostPath+n.adminManagerRevivePath;(async()=>{S(!0),await d.callAPI(k,{aID:y}),S(!1),c(p.value,C.value),f.miniSuccess("管理員 "+m+" 已復原")})()}})},F=()=>{P.value=!P.value,c(p.value,C.value)},S=y=>{M("loadingSwitch",y)};return c(p.value,C.value),(y,m)=>(a(),l("div",Ls,[e("div",xs,[Is,e("div",Ds,[Ss,e("div",null,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512",class:"searchBtn",onClick:m[0]||(m[0]=_=>Q(L)?L.value=!s(L):L=!s(L))},Ts))]),e("div",null,[e("div",{class:"btn btn-sm btn-success",onClick:m[1]||(m[1]=_=>w(0))},"新增管理員")])])]),e("div",{class:D(["searchContainer",{showSearch:s(L)}])},zs,2),h.value==0?(a(),l("div",Es,[Rs,e("div",Vs,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(P),"btn-primary":s(P)}]),onClick:F},"顯示已刪除資料",2)])])):I("",!0),h.value>0?(a(),l("div",Fs,[e("div",Gs,[e("div",Os,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(P),"btn-primary":s(P)}]),onClick:F},"顯示已刪除資料",2)]),e("div",qs,[G("資料總筆數："),e("span",js,Y(h.value),1),G(" 筆")])]),Us,e("div",Ks,[(a(!0),l(q,null,j(r.value,(_,k)=>(a(),l("div",{class:D(["listLineContainer",{removedRecord:_.enabled==0}]),key:k},[e("div",Js,[e("div",{class:"listField lineIndex",innerHTML:k+1},null,8,Qs),e("div",{class:"listField managerNo",innerHTML:_.No},null,8,Ws),e("div",{class:"listField managerName",innerHTML:_.name},null,8,Xs),e("div",{class:"listField managerDep",innerHTML:_.Dep},null,8,Zs),e("div",{class:"listField managerAuth",innerHTML:_.AuthGroupName},null,8,Ys),e("div",ea,[e("a",{href:"mailTo:"+_.Email,innerHTML:_.Email},null,8,ta)]),_.enabled>0?(a(),l("div",sa,[e("div",aa,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",class:"actionEdit",onClick:V=>w(_.ID)},la,8,na))]),e("div",ca,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",class:"actionDel",onClick:V=>B(_.ID,_.name)},va,8,da))])])):I("",!0),_.enabled==0?(a(),l("div",_a,[e("div",ha,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",class:"bi bi-reply-fill dataRestore",viewBox:"0 0 16 16",onClick:V=>E(_.ID,_.name)},wa,8,ma))])])):I("",!0)])],2))),128))]),e("div",fa,[e("div",$a,[Ca,ba,e("div",Ma,[Pa,(a(!0),l(q,null,j(s(g),_=>(a(),l("div",{key:_,class:D(["pageItem",{pageItemPicked:_==s(p),pageItemMov:_!=s(p)}])},Y(_),3))),128)),ya]),Aa,La])])])):I("",!0)]))}});const pe=R(xa,[["__scopeId","data-v-ccc9ac18"]]),Ia={class:"objectContainer"},Da=["onKeypress"],Sa=["onMouseover"],ka=["innerHTML"],Ba=["innerHTML"],Ta=N({__name:"AdminEmpPicker",emits:["changeEmp","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new Z,d=n.hostPath+n.adminGetEmpList;let o=v(),u=v({empNo:"",empName:"",empDep:"",empExt:"",empPassword:"",empConfirmPassword:""}),h=v([{}]),r=v(!1),t=v(-1);const L=c=>{M("loadingSwitch",c)};(async()=>{L(!0);const c=await f.callAPI(d,{});o.value=c.message,L(!1)})();const C=c=>{t.value=-1;const w=c.keyCode>36&&c.keyCode<41,B=c.keyCode>64&&c.keyCode<91||c.keyCode>93&&c.keyCode<123,E=c.keyCode>47&&c.keyCode<58;if(!((B||E||w||c.keyCode==8)&&u.value.empNo.length<8))return!1;u.value.empNo=u.value.empNo+String.fromCharCode(c.keyCode),r.value=u.value.empNo.length>0},g=()=>{let c=0;h.value=[],u.value.empNo!=""&&o.value.forEach(w=>{w.empNo.toUpperCase().indexOf(u.value.empNo.toUpperCase())>-1&&(c<10&&h.value.push(w),c++)})},$=c=>{c.keyCode==8&&(t.value=-1),(c.keyCode==38||c.keyCode==40||c.keyCode==13)&&(c.preventDefault(),c.keyCode==38?t.value>0&&t.value--:c.keyCode==13?P():t.value<h.value.length-1&&t.value++)},x=()=>{r.value=!1;const c=v({empNo:"",empName:"",empBranch:"",empDep:"",empDepName:"",empExt:"",empPassword:"",empConfirmPassword:""});u.value.empNo==""&&M("changeEmp",c.value)},P=()=>{u.value.empNo=h.value[t.value].empNo;const c=h.value[t.value];c.empPassword="000000",c.empConfirmPassword=c.empPassword,M("changeEmp",c)},b=()=>{g(),r.value=h.value.length>0};return(c,w)=>(a(),l("div",Ia,[ee(e("input",{type:"text",maxlength:8,onKeypress:Le(C,["prevent"]),onKeyup:g,onKeydown:$,onMousedown:b,onBlur:x,"onUpdate:modelValue":w[0]||(w[0]=B=>s(u).empNo=B)},null,40,Da),[[ue,s(u).empNo]]),e("div",{class:D(["filterContainer",{showFilter:s(h).length>0&&s(r)}])},[(a(!0),l(q,null,j(s(h),(B,E)=>(a(),l("div",{class:D(["filterItem",{focusItem:s(t)==E}]),key:E,onMouseover:F=>Q(t)?t.value=E:t=E,onMousedown:w[1]||(w[1]=F=>P())},[e("span",{innerHTML:B.empNo},null,8,ka),G(" "),e("span",{innerHTML:B.empName},null,8,Ba)],42,Sa))),128))],2)]))}});const Na=R(Ta,[["__scopeId","data-v-9a58fb7b"]]),se=i=>(K("data-v-76a4fd01"),i=i(),J(),i),Ha={class:"actionContainer"},za={class:"viewAuth"},Ea=se(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),Ra=[Ea],Va=se(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),Fa=[Va],Ga=["innerHTML"],Oa={key:0,class:"editAuth"},qa=se(()=>e("div",{class:"authBtnIcon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512"},[e("title",null,"編輯"),e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"})])],-1)),ja=se(()=>e("div",{class:"authBtnText"},"編輯",-1)),Ua=[qa,ja],Ka={key:1,class:"delAuth"},Ja=se(()=>e("div",{class:"authBtnIcon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512"},[e("title",null,"刪除"),e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})])],-1)),Qa=se(()=>e("div",{class:"authBtnText"},"刪除",-1)),Wa=[Ja,Qa],Xa=N({__name:"AdminAuthItem",props:{authText:String,authID:Number,mAuth:String,withSub:Boolean},emits:["authChange"],setup(i,{emit:A}){W();const n=A,M=new ae,f=i;let d=v(""+f.mAuth);ne(()=>f.mAuth,(u,h)=>{d.value=""+u});const o=u=>{const h=f.authID+u;if((","+d.value+",").indexOf(","+h+",")<0){if(u!="V"&&(","+d.value+",").indexOf(","+f.authID+"V,")==-1){const t=u=="E"?"編輯":"刪除";return M.miniMessage(-1,"您必須先選取檢視權限才可以賦予"+t+"權限"),!1}d.value.length>0&&(d.value+=","),d.value+=h}else{if(d.value=(","+d.value+",").replace(","+h+",",",").substring(1,d.value.length-2),u=="V"){const t=","+f.authID+"D,",L=","+f.authID+"E,";d.value=(","+d.value+",").replace(t,",").replace(L,",").substring(1,d.value.length-2)}d.value==","&&(d.value="")}n("authChange",d.value)};return(u,h)=>(a(),l("div",Ha,[e("div",{class:D(["authListLine",{hasViewRight:(","+s(d)+",").indexOf(","+i.authID+"V,")>=0}])},[e("div",za,[(","+s(d)+",").indexOf(","+i.authID+"V,")<0?(a(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:h[0]||(h[0]=r=>o("V")),title:"可瀏覽"},Ra)):I("",!0),(","+s(d)+",").indexOf(","+i.authID+"V,")>=0?(a(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:h[1]||(h[1]=r=>o("V")),title:"不可瀏覽"},Fa)):I("",!0)]),e("div",{class:"authText",innerHTML:i.authText},null,8,Ga),i.withSub?I("",!0):(a(),l("div",Oa,[e("div",{class:D(["authBtn",{editAble:(","+s(d)+",").indexOf(","+i.authID+"E,")>=0}]),onClick:h[2]||(h[2]=r=>o("E"))},Ua,2)])),i.withSub?I("",!0):(a(),l("div",Ka,[e("div",{class:D(["authBtn",{removeAble:(","+s(d)+",").indexOf(","+i.authID+"D,")>=0}]),onClick:h[3]||(h[3]=r=>o("D"))},Wa,2)]))],2)]))}});const ge=R(Xa,[["__scopeId","data-v-76a4fd01"]]),Za={class:"authListContainer"},Ya={class:"subAuthListContainer"},en=N({__name:"AdminAuthEditor",props:{mAuth:String},emits:["authChange","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new Z,d=i;v([]);let o=v(),u=v(""+d.mAuth);const h=n.hostPath+n.adminMenuPath,r=p=>{u.value=p,M("authChange",u.value.split(",").sort())};ne(()=>d.mAuth,(p,C)=>{u.value=""+p});const t=p=>{M("loadingSwitch",p)};return(async()=>{const p={mid:0};t(!0);const C=await f.callAPI(h,p);t(!1),o.value=C.message})(),(p,C)=>(a(),l("div",Za,[(a(!0),l(q,null,j(s(o),(g,$)=>(a(),l("div",{class:"authListPage",key:$},[X(ge,{authID:g.ID,authText:g.Text,mAuth:s(u),withSub:typeof g.SubMenu=="object",onAuthChange:r},null,8,["authID","authText","mAuth","withSub"]),e("div",Ya,[(a(!0),l(q,null,j(g.SubMenu,(x,P)=>(a(),l("div",{class:"authSubPage",key:P},[X(ge,{authID:x.ID,authText:x.Text,mAuth:s(u),withSub:!1,onAuthChange:r},null,8,["authID","authText","mAuth"])]))),128))])]))),128))]))}});const be=R(en,[["__scopeId","data-v-51753127"]]),Me=i=>(K("data-v-3b021f15"),i=i(),J(),i),tn={class:"mainHeader"},sn={class:"mainTitle"},an={class:"backBtn"},nn=Me(()=>e("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"},null,-1)),on=[nn],ln={class:"titleMid"},cn={key:0,class:"actionText"},dn={key:1,class:"actionText"},un=Me(()=>e("div",{class:"mainOptions"},null,-1)),rn=N({__name:"AdminEditPageHeader",props:{eid:{type:Number,required:!0},subject:String,catagory:String},emits:["abrot"],setup(i,{emit:A}){const n=A,M=()=>{n("abrot")};return(f,d)=>(a(),l("div",tn,[e("div",sn,[e("div",an,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-left-circle gobackBtn",viewBox:"0 0 16 16",onClick:M},on))]),e("div",null,[e("h3",null,[G(Y(i.subject)+" - ",1),e("span",ln,[i.eid<1?(a(),l("span",cn,"新增")):I("",!0),i.eid>0?(a(),l("span",dn,"編輯")):I("",!0),G(Y(i.catagory),1)])])])]),un]))}});const Pe=R(rn,[["__scopeId","data-v-3b021f15"]]),O=i=>(K("data-v-da6e0bc5"),i=i(),J(),i),vn={class:"mainContainer"},_n={class:"admDataContainer"},hn={class:"admDataLine"},mn={class:"admDataCase"},pn=O(()=>e("div",{class:"admDataTitleField"},"員編",-1)),gn={class:"admDataInputeField"},wn=["innerHTML"],fn={class:"admDataCase"},$n=O(()=>e("div",{class:"admDataTitleField"},"姓名",-1)),Cn={class:"admDataInputeField"},bn=["innerHTML"],Mn={class:"admDataLine"},Pn={class:"admDataCase"},yn=O(()=>e("div",{class:"admDataTitleField"},"部門",-1)),An={class:"admDataInputeField"},Ln=["innerHTML"],xn={class:"admDataCase"},In=O(()=>e("div",{class:"admDataTitleField"},"分機",-1)),Dn={class:"admDataInputeField"},Sn=["innerHTML"],kn={class:"admDataLine"},Bn={class:"admDataCase"},Tn=O(()=>e("div",{class:"admDataTitleField"},"Email",-1)),Nn={class:"admDataInputeField"},Hn=["innerHTML"],zn={class:"admDataLine"},En={class:"admDataCase"},Rn=O(()=>e("div",{class:"admDataTitleField"},"密碼",-1)),Vn={class:"admDataInputeField"},Fn=["type"],Gn=O(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),On=[Gn],qn=O(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),jn=[qn],Un={class:"admDataCase"},Kn=O(()=>e("div",{class:"admDataTitleField"},"確認密碼",-1)),Jn={class:"admDataInputeField"},Qn=["type"],Wn=O(()=>e("path",{d:"M634 471L36 3.5A16 16 0 0 0 13.5 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM296.8 146.5l134.8 105.4C429.4 191.9 380.5 144 320 144a112.3 112.3 0 0 0 -23.2 2.5zm46.4 219.1L208.4 260.2C210.7 320.1 259.5 368 320 368a113 113 0 0 0 23.2-2.5zM320 112c98.7 0 189.1 55 237.9 144a285.5 285.5 0 0 1 -44 60.2l37.7 29.5a333.7 333.7 0 0 0 52.9-75.1 32.4 32.4 0 0 0 0-29.2C550.3 135.6 442.9 64 320 64c-36.7 0-71.7 7-104.6 18.8l46.4 36.3c18.9-4.3 38.3-7.1 58.2-7.1zm0 288c-98.7 0-189.1-55-237.9-144a285.5 285.5 0 0 1 44.1-60.2l-37.7-29.5a333.6 333.6 0 0 0 -52.9 75.1 32.4 32.4 0 0 0 0 29.2C89.7 376.4 197.1 448 320 448c36.7 0 71.7-7.1 104.6-18.8l-46.4-36.3C359.3 397.2 339.9 400 320 400z"},null,-1)),Xn=[Wn],Zn=O(()=>e("path",{d:"M288 144a110.9 110.9 0 0 0 -31.2 5 55.4 55.4 0 0 1 7.2 27 56 56 0 0 1 -56 56 55.4 55.4 0 0 1 -27-7.2A111.7 111.7 0 1 0 288 144zm284.5 97.4C518.3 135.6 410.9 64 288 64S57.7 135.6 3.5 241.4a32.4 32.4 0 0 0 0 29.2C57.7 376.4 165.1 448 288 448s230.3-71.6 284.5-177.4a32.4 32.4 0 0 0 0-29.2zM288 400c-98.7 0-189.1-55-237.9-144C98.9 167 189.3 112 288 112s189.1 55 237.9 144C477.1 345 386.7 400 288 400z"},null,-1)),Yn=[Zn],ei={class:"authContainer"},ti={class:"authContainerHeader"},si=O(()=>e("div",null,[e("h5",null,"權限設定")],-1)),ai={key:0},ni=O(()=>e("option",{value:"99_"}," --- 請選擇 --- ",-1)),ii=["value","innerHTML"],oi={class:"btnContainer"},li=O(()=>e("div",null,null,-1)),ci={class:"ActionBtnContainer"},di=["innerHTML"],ui=N({__name:"AdminManagerEdit",props:{mid:{type:Number,required:!0},lstPG:{type:Number,required:!0}},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new Z;let d=v(!1),o=v(!1);v();let u=v(),h=v(!1);const r=i;let t=v({empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:r.mid==0?"000000":"",empConfirmPassword:r.mid==0?"000000":"",empAuth:"".split(","),empEnabled:!0});const L=b=>{t.value.empAuth=b,x()},p=()=>{t.value.empNo!=""?U.fire({icon:"question",title:"警告! 資料異動尚未儲存",text:"請問您確定要放棄"+(r.mid<1?"新增":"修改")+"嗎?",showCancelButton:!0,cancelButtonColor:"#3085d6",confirmButtonColor:"#d33",confirmButtonText:"碓定放棄",cancelButtonText:"繼續編輯"}).then(b=>{b.isConfirmed&&(t.value={empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:(r.mid==0,""),empConfirmPassword:(r.mid==0,""),empAuth:[],empEnabled:!0},M("redirectPage",{managerID:0,lastPage:r.lstPG},"list"))}):(t.value={empID:"",empNo:"",empName:"",empBranch:"",empBranchName:"",empDep:"",empDepName:"",empExt:"",empMail:"",empGroup:99,empPassword:(r.mid==0,""),empConfirmPassword:(r.mid==0,""),empAuth:[],empEnabled:!0},M("redirectPage",{managerID:0,lastPage:r.lstPG},"list"))},C=b=>{t.value=b,x()},g=b=>{M("loadingSwitch",b)},$=b=>{const c=b.target.value.split("_");t.value.empGroup=parseInt(c[0]),t.value.empAuth=c[1].split(","),x()},x=()=>{let b=!1;r.mid>0?(b=t.value.empAuth.length>0,(t.value.empPassword!=""||t.value.empConfirmPassword!="")&&(b=t.value.empPassword==t.value.empConfirmPassword)):(b=t.value.empNo!="",b=t.value.empNo.length==8,b=t.value.empPassword!=""&&t.value.empConfirmPassword!="",b=t.value.empPassword==t.value.empConfirmPassword,b=t.value.empAuth!=null&&t.value.empAuth.length>0),h.value=b},P=()=>{let b={empID:r.mid>0?r.mid:0,empNo:t.value.empNo,empName:t.value.empName,empCo:t.value.empBranch,empDep:t.value.empDep,empExt:t.value.empExt,empMail:t.value.empMail,empGroup:(r.mid==0,t.value.empGroup),empPass:r.mid==0?"000000":t.value.empPassword,empAuth:t.value.empAuth.length>0?t.value.empAuth.join(","):""};console.log(t.value),console.log(b),(async()=>{const w=n.hostPath+n.adminManagerUpdatePath;g(!0);const B=await f.callAPI(w,b);g(!1),console.log(B);const E=B.code;U.fire({icon:E==200?"success":"error",title:E==200?"管理員 "+(b.empName+"-"+b.empNo)+" "+(r.mid>0?"修改":"新增")+"成功.":"管理員 "+(b.empName+"-"+b.empNo)+" "+(r.mid>0?"修改":"新增")+"失敗.",text:E==200?"":"請稍候再試...",confirmButtonColor:"#3085d6",confirmButtonText:"碓定"}).then(F=>{F.isConfirmed&&E==200&&M("redirectPage",{managerID:0,lastPage:r.lstPG},"list")})})()};if(r.mid>0){const b=n.hostPath+n.adminManagerQueryPath;(async()=>{g(!0);const w=await f.callAPI(b,{mid:r.mid});g(!1),t.value.empID=w.message.empID,t.value.empNo=w.message.empNo,t.value.empName=w.message.empName,t.value.empBranch=w.message.empBranch,t.value.empBranchName=w.message.empBranchName,t.value.empDep=w.message.empDep,t.value.empDepName=w.message.empDepName,t.value.empExt=w.message.empExt,t.value.empGroup=w.message.empGroup,t.value.empMail=w.message.empMail,t.value.empAuth=w.message.empAuth,t.value.empEnabled=w.message.empEnabled,g(!1),x()})()}else(async()=>{const c=n.hostPath+n.adminGroupListPath;g(!0);const w=await f.callAPI(c,{page:1,rows:30});u.value=w.message,g(!1),x()})();return(b,c)=>(a(),l("div",vn,[X(Pe,{eid:i.mid,subject:"管理員設定",catagory:"管理員",onAbrot:p},null,8,["eid"]),e("div",_n,[e("div",hn,[e("div",mn,[pn,e("div",gn,[i.mid==0?(a(),te(Na,{key:0,onChangeEmp:C})):I("",!0),i.mid>0?(a(),l("span",{key:1,innerHTML:s(t).empNo},null,8,wn)):I("",!0)])]),e("div",fn,[$n,e("div",Cn,[e("span",{innerHTML:s(t).empName},null,8,bn)])])]),e("div",Mn,[e("div",Pn,[yn,e("div",An,[e("span",{innerHTML:s(t).empDepName},null,8,Ln)])]),e("div",xn,[In,e("div",Dn,[e("span",{innerHTML:s(t).empExt},null,8,Sn)])])]),e("div",kn,[e("div",Bn,[Tn,e("div",Nn,[e("span",{innerHTML:s(t).empMail},null,8,Hn)])])]),e("div",zn,[e("div",En,[Rn,e("div",Vn,[ee(e("input",{type:s(d)?"text":"password",maxlength:"18","onUpdate:modelValue":c[0]||(c[0]=w=>s(t).empPassword=w)},null,8,Fn),[[de,s(t).empPassword]]),s(d)?(a(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:c[1]||(c[1]=w=>Q(d)?d.value=!1:d=!1),title:"顯示密碼"},On)):I("",!0),s(d)?I("",!0):(a(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:c[2]||(c[2]=w=>Q(d)?d.value=!0:d=!0),title:"隱藏密碼"},jn))])]),e("div",Un,[Kn,e("div",Jn,[ee(e("input",{type:s(o)?"text":"password",maxlength:"18","onUpdate:modelValue":c[3]||(c[3]=w=>s(t).empConfirmPassword=w)},null,8,Qn),[[de,s(t).empConfirmPassword]]),s(o)?(a(),l("svg",{key:0,class:"passEyeClose",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"20",viewBox:"0 0 640 512",onClick:c[4]||(c[4]=w=>Q(o)?o.value=!1:o=!1),title:"顯示密碼"},Xn)):I("",!0),s(o)?I("",!0):(a(),l("svg",{key:1,class:"passEye",xmlns:"http://www.w3.org/2000/svg",height:"16",width:"18",viewBox:"0 0 576 512",onClick:c[5]||(c[5]=w=>Q(o)?o.value=!0:o=!0),title:"隱藏密碼"},Yn))])])])]),e("div",ei,[e("div",ti,[si,i.mid==0?(a(),l("div",ai,[G(" 套用群組："),e("select",{onChange:c[6]||(c[6]=w=>$(w))},[ni,(a(!0),l(q,null,j(s(u),(w,B)=>(a(),l("option",{value:w.agID+"_"+w.agContent,key:B,innerHTML:w.agName},null,8,ii))),128))],32)])):I("",!0)]),X(be,{mAuth:s(t).empAuth==null?"":s(t).empAuth.join(","),onAuthChange:L},null,8,["mAuth"])]),e("div",oi,[li,e("div",ci,[e("div",{class:"btn btn-sm btn-danger actionBtn aborttBtn",innerHTML:"放棄"+(i.mid<1?"新增":"修改"),onClick:p},null,8,di),e("div",{class:D(["btn btn-sm actionBtn submitBtn",{"btn-success":s(h),"btn-disabled":!s(h)}]),onClick:P}," 送出",2)])])]))}});const we=R(ui,[["__scopeId","data-v-da6e0bc5"]]),ri={class:"mainContainer"},vi=N({__name:"AdminManager",emits:["loadingSwitch"],setup(i,{emit:A}){let n=ie(),M=v(0),f=v(0),d=v(1);const o=A,u=(r,t)=>{n.value=t=="modify"?we:pe,f.value=r.managerID,d.value=r.lastPage},h=r=>{o("loadingSwitch",r)};return n.value=n.value!=null?n.value:M.value==0?pe:we,(r,t)=>(a(),l("div",ri,[(a(),te(oe(s(n)),{mid:s(f),lstPG:s(d),onRedirectPage:u,onLoadingSwitch:h},null,40,["mid","lstPG"]))]))}});const _i=R(vi,[["__scopeId","data-v-65aa0191"]]),T=i=>(K("data-v-ef62ec93"),i=i(),J(),i),hi={class:"mainContainer"},mi={class:"mainHeader"},pi=T(()=>e("div",{class:"mainTitle"},[e("h3",null,[G("管理員群組設定 - "),e("span",{class:"titleMid"},"管理員群組列表")])],-1)),gi={class:"mainOptions"},wi=T(()=>e("div",null,null,-1)),fi=T(()=>e("title",null,"搜尋",-1)),$i=T(()=>e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)),Ci=[fi,$i],bi=T(()=>e("div",{class:"searchTitle"},"搜尋",-1)),Mi=T(()=>e("div",{class:"searchBody"},null,-1)),Pi=[bi,Mi],yi={key:0,class:"zeroRow"},Ai=T(()=>e("div",null,[e("h4",null,"未尋獲任何資料...")],-1)),Li={class:"showAllBtn"},xi={key:1,class:"listContainer"},Ii={class:"resultRows"},Di={class:"showRemoved"},Si={class:"resultCount"},ki={class:"resultNumber"},Bi=T(()=>e("div",{class:"listTitle"},[e("div",{class:"listTitleField"}),e("div",{class:"listTitleField"},"管理員群組"),e("div",{class:"listTitleField"},"操作")],-1)),Ti={class:"listBody"},Ni={class:"listLine"},Hi=["innerHTML"],zi=["innerHTML"],Ei={key:0,class:"listField managerAction"},Ri={class:"listAction"},Vi=["onClick"],Fi=T(()=>e("title",null,"編輯",-1)),Gi=T(()=>e("path",{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},null,-1)),Oi=[Fi,Gi],qi={class:"listAction"},ji=["onClick"],Ui=T(()=>e("title",null,"刪除",-1)),Ki=T(()=>e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"},null,-1)),Ji=[Ui,Ki],Qi={key:1,class:"listField managerAction2"},Wi={class:"listAction"},Xi=["onClick"],Zi=T(()=>e("title",null,"復原",-1)),Yi=T(()=>e("path",{d:"M5.921 11.9 1.353 8.62a.719.719 0 0 1 0-1.238L5.921 4.1A.716.716 0 0 1 7 4.719V6c1.5 0 6 0 7 8-2.5-4.5-7-4-7-4v1.281c0 .56-.606.898-1.079.62z"},null,-1)),eo=[Zi,Yi],to={class:"listPagination"},so={class:"PaginationContainer"},ao=T(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-rewind-fill"})],-1)),no=T(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill lastPage"})],-1)),io={class:"pageList"},oo=T(()=>e("div",null,null,-1)),lo=T(()=>e("div",null,null,-1)),co=T(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-play-fill"})],-1)),uo=T(()=>e("div",{class:"turnPageBtn"},[e("i",{class:"bi bi-fast-forward-fill"})],-1)),ro=N({__name:"AdminGroupList",props:{lastPage:Number},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=A,f=new ae,d=new Z;_e();const o=n.hostPath+n.adminGroupListPath,u=v(0),h=v();let r=v(0);v(!1);let t=v(!1),L=v(1),p=v(30),C=v([]),g=v(0),$=v(0),x=v(!1);const P=i;ne(()=>P.lastPage,(S,y)=>{L.value=y??1});const b=async(S,y)=>{F(!0);const m=await d.callAPI(o,{page:S,rows:y,showAll:x.value});h.value=m.message,r.value=Math.ceil(h.value.length/p.value),u.value=h.value.length,g.value=r.value<5?1:Math.floor(L.value/5)*5,$.value=g.value+5>=r.value?r.value:g.value+5,C.value.length=0;for(let _=g.value;_<$.value+1;_++)C.value.push(_);F(!1)},c=S=>{M("redirectPage",{groupObj:S,lastPage:L.value},"modify")},w=(S,y)=>{U.fire({icon:"question",title:`警告!
群組 "`+y+`"
將會被刪除`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(m=>{if(m.isConfirmed){const _=n.hostPath+n.adminGroupRemovePath;(async()=>{F(!0),await d.callAPI(_,{agID:S}),F(!1),b(L.value,p.value),f.miniSuccess("群組 "+y+" 已刪除")})()}})},B=(S,y)=>{U.fire({icon:"question",title:'群組 "'+y+`"
將會被復原`,text:"您要確定要這麼做?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"碓定",cancelButtonText:"放棄"}).then(m=>{if(m.isConfirmed){const _=n.hostPath+n.adminGroupRevivePath;(async()=>{F(!0),await d.callAPI(_,{agID:S}),F(!1),b(L.value,p.value),f.miniSuccess("群組 "+y+" 已復原")})()}})},E=()=>{x.value=!x.value,b(L.value,p.value)},F=S=>{M("loadingSwitch",S)};return b(L.value,p.value),(S,y)=>(a(),l("div",hi,[e("div",mi,[pi,e("div",gi,[wi,e("div",null,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512",class:"searchBtn",onClick:y[0]||(y[0]=m=>Q(t)?t.value=!s(t):t=!s(t))},Ci))]),e("div",null,[e("div",{class:"btn btn-sm btn-success",onClick:y[1]||(y[1]=m=>c({agID:0,agName:"",agRank:99,agContent:""}))},"新增群組 ")])])]),e("div",{class:D(["searchContainer",{showSearch:s(t)}])},Pi,2),u.value==0?(a(),l("div",yi,[Ai,e("div",Li,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(x),"btn-primary":s(x)}]),onClick:E},"顯示已刪除資料",2)])])):I("",!0),u.value>0?(a(),l("div",xi,[e("div",Ii,[e("div",Di,[e("div",{class:D(["reviveBtn btn btn-sm",{enableRevive:!s(x),"btn-primary":s(x)}]),onClick:E},"顯示已刪除資料",2)]),e("div",Si,[G("資料總筆數："),e("span",ki,Y(u.value),1),G(" 筆")])]),Bi,e("div",Ti,[(a(!0),l(q,null,j(h.value,(m,_)=>(a(),l("div",{class:D(["listLineContainer",{removedRecord:m.agEnabled==0}]),key:_},[e("div",Ni,[e("div",{class:"listField lineIndex",innerHTML:_+1},null,8,Hi),e("div",{class:"listField managerNo",innerHTML:m.agName},null,8,zi),m.agEnabled>0?(a(),l("div",Ei,[e("div",Ri,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",viewBox:"0 0 512 512",class:"actionEdit",onClick:k=>c(m)},Oi,8,Vi))]),e("div",qi,[m.agEnabled>0?(a(),l("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",height:"16",width:"14",viewBox:"0 0 448 512",class:"actionDel",onClick:k=>w(m.agID,m.agName)},Ji,8,ji)):I("",!0)])])):I("",!0),m.agEnabled==0?(a(),l("div",Qi,[e("div",Wi,[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",class:"bi bi-reply-fill dataRestore",viewBox:"0 0 16 16",onClick:k=>B(m.agID,m.agName)},eo,8,Xi))])])):I("",!0)])],2))),128))]),e("div",to,[e("div",so,[ao,no,e("div",io,[oo,(a(!0),l(q,null,j(s(C),m=>(a(),l("div",{key:m,class:D(["pageItem",{pageItemPicked:m==s(L),pageItemMov:m!=s(L)}])},Y(m),3))),128)),lo]),co,uo])])])):I("",!0)]))}});const fe=R(ro,[["__scopeId","data-v-ef62ec93"]]),ce=i=>(K("data-v-99c6ef94"),i=i(),J(),i),vo={class:"mainContainer"},_o={class:"grpDataContainer"},ho={class:"grpDataLine"},mo={class:"grpDataCase"},po=ce(()=>e("div",{class:"grpDataTitleField"},"群組名稱",-1)),go={class:"grpDataInputeField"},wo={class:"grpDataCase"},fo=ce(()=>e("div",{class:"grpDataTitleField"},"群組層級",-1)),$o={class:"grpDataInputeField"},Co=re('<option value="99" data-v-99c6ef94>一般管理員</option><option value="3" data-v-99c6ef94>一般主管</option><option value="2" data-v-99c6ef94>高階主管</option><option value="1" data-v-99c6ef94>最高管理者</option><option value="0" data-v-99c6ef94>系統管理者</option>',5),bo=[Co],Mo={class:"authContainer"},Po=ce(()=>e("div",{class:"authContainerHeader"},[e("h5",null,"權限設定")],-1)),yo={class:"btnContainer"},Ao=ce(()=>e("div",null,null,-1)),Lo={class:"ActionBtnContainer"},xo=["innerHTML"],Io=N({__name:"AdminGroupEdit",props:{gObj:{type:Object,required:!0},lstPG:{type:Number,required:!0}},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){const n=W(),M=new Z,f=A,d=i;let o=v({groupID:0,groupName:"",groupRank:99,groupAuth:""});xe(()=>{o.value.groupID=d.gObj.agID,o.value.groupName=d.gObj.agName,o.value.groupRank=d.gObj.agRank,o.value.groupAuth=d.gObj.agContent,u.value=o.value.groupID>0});let u=v(!1);const h=async()=>{const C=n.hostPath+n.adminGroupNameVerifyPath;p(!0);const g=await M.callAPI(C,{groupid:o.value.groupID,groupName:o.value.groupRank});u.value=g.message.toUpperCase()=="OK",p(!1)},r=C=>{o.value.groupAuth=C.join(",")},t=()=>{f("redirectPage",{managerID:0,lastPage:d.lstPG},"list")},L=async()=>{const C=n.hostPath+n.adminGroupUpdatePath;p(!0);const g=await M.callAPI(C,o.value);p(!1);let $="群組資料";$+=o.value.groupID==0?"新增":"更新",$+=g.code==200?"成功":"失敗";let x="群組 "+o.value.groupName+" 已"+(o.value.groupID==0?"新增":"更新")+" !";U.fire({icon:g.code==200?"success":"error",title:$,text:g.code==200?x:g.message,confirmButtonColor:"#3085d6",confirmButtonText:"碓定"}).then(P=>{f("redirectPage",{managerID:0,lastPage:d.lstPG},"list")})},p=C=>{f("loadingSwitch",C)};return(C,g)=>(a(),l("div",vo,[X(Pe,{eid:s(o).groupID,subject:"管理群組設定",catagory:"群組",onAbrot:t},null,8,["eid"]),e("div",_o,[e("div",ho,[e("div",mo,[po,e("div",go,[ee(e("input",{type:"text",maxlength:"10","onUpdate:modelValue":g[0]||(g[0]=$=>s(o).groupName=$),onChange:h},null,544),[[ue,s(o).groupName]])])]),e("div",wo,[fo,e("div",$o,[ee(e("select",{"onUpdate:modelValue":g[1]||(g[1]=$=>s(o).groupRank=$)},bo,512),[[Ie,s(o).groupRank]])])])])]),e("div",Mo,[Po,X(be,{mAuth:s(o).groupAuth,onAuthChange:r},null,8,["mAuth"])]),e("div",yo,[Ao,e("div",Lo,[e("div",{class:"btn btn-sm btn-danger actionBtn aborttBtn",innerHTML:"放棄"+(i.gObj.agID<1?"新增":"修改"),onClick:t},null,8,xo),e("div",{class:D(["btn btn-sm actionBtn submitBtn",{"btn-success":s(u)&&s(o).groupAuth!="","btn-disabled":!s(u)||s(o).groupAuth==""}]),onClick:L}," 送出",2)])])]))}});const $e=R(Io,[["__scopeId","data-v-99c6ef94"]]),Do={class:"mainContainer"},So=N({__name:"AdminGroup",emits:["loadingSwitch"],setup(i,{emit:A}){let n=ie(),M=v(0),f=v(),d=v(1);const o=A,u=(r,t)=>{n.value=t=="modify"?$e:fe,f.value=r.groupObj,d.value=r.lastPage},h=r=>{o("loadingSwitch",r)};return n.value=n.value!=null?n.value:M.value==0?fe:$e,(r,t)=>(a(),l("div",Do,[(a(),te(oe(s(n)),{gObj:s(f),lstPG:s(d),onRedirectPage:u,onLoadingSwitch:h},null,40,["gObj","lstPG"]))]))}});const ko=R(So,[["__scopeId","data-v-13a2dea4"]]),Bo={class:"AdminMainContainer"},To={class:"AdminMainBody"},No=N({__name:"AdminMain",props:{goFunction:String},emits:["redirectPage","loadingSwitch"],setup(i,{emit:A}){let n=ie();const M=A,f=(u,h)=>{o(""+h)},d=u=>{M("loadingSwitch",u)},o=u=>{switch(u){case"":n.value=me;break;case"member":n.value=As;break;case"manager_group":n.value=ko;break;case"manager":n.value=_i;break;case"login":M("redirectPage",null,u);break}};return n.value=me,(u,h)=>(a(),l("div",Bo,[X(dt,{onRedirectPage:f,onLoadingSwitch:d}),e("div",To,[(a(),te(oe(s(n)),{onRedirectPage:f,onLoadingSwitch:d},null,32))])]))}});const Ce=R(No,[["__scopeId","data-v-d01c2979"]]),Ho={class:"adminContainer"},zo=N({__name:"AdminView",emits:["loadingSwitch"],setup(i,{emit:A}){let n=ie(),M=v(),f=v(""),d=typeof sessionStorage.getItem("adminInfo")<"u"&&sessionStorage.getItem("adminInfo")!=null;d&&(M.value=JSON.parse(""+sessionStorage.getItem("adminInfo")));const o=A,u=(r,t)=>{if(t!=null)switch(t){case"main":case"home":n.value=Ce;break;case"login":n.value=he;break;default:f.value=t;break}},h=r=>{o("loadingSwitch",r)};return n.value=n.value!=null?n.value:d?Ce:he,(r,t)=>(a(),l("div",Ho,[(a(),te(oe(s(n)),{goFunction:s(f),onRedirectPage:u,onLoadingSwitch:h},null,40,["goFunction"]))]))}});const Ro=R(zo,[["__scopeId","data-v-10c367c5"]]);export{Ro as default};
